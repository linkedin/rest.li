2.2.11
------
(RB=455451)
Formally support the Java 8 compiler to create 1.6 target source files
(RB=461320)
using servlet container threads to do IO for response in AbstractAsyncR2Servlet
(RB=462881)
Migrate to using log4j2 internally in pegasus.
Fixed and consolidated the r2 perf tests.
(RB=467222)
Disable transient failing d2 tests

2.2.10
------
(RB=440822)
Fixed key value conversion for typeref key without custom Java binding.

(RB=446624)
Provide configuration for acceptType and contentType in RestLiRequestOptions per request.

2.2.9
-----
(RB=445163)
Fixed DefaultMessageSerializer to support cookies and non-ASCII message entities.

2.2.8
-----
(RB=446341)
Generate indented avro schemas

2.2.7
-----
(RB=446424)
Allow selective response decompression for ClientCompressionFilter.

2.2.6
-----
(RB=439521)
Add feature to QueryTunnelUtil and fix a bug in encode of MimeMultiPart entity

(RB=436399)
Handle @PathKeysParam and other parameter annotation for action methods by
invoking the common routine ArgumentBuilder.buildArgs for all RestLiArgumentBuilder classes.

(RB=443980)
Add warning message for invocation of deprecated pegasus plugin method addIdlItem accepting two parameters.

2.2.5
-----
(RB=436213)
LoadBalancerStrategyName is deprecated and replaced by LoadBalancerStrategyList.
This patch gets rid of the StrategyName from the source.

(RB=420782)
Added tests for BatchCreateIdResponse
Added new mock factory and tests for BatchCreateIdResponse.

(RB=433868)
Return Http 400 error in case of key coercion error instead of Http 500.
Enhance existing RestLiRouter error testcases to always check return status.

(RB=439796)
Fix intermittent test failure in ZooKeeperChildrenDataPublisherTest.

(RB=438203)
Create option to turn off ClientCompressionFilter.

2.2.4
-----
(RB=430630)
Let Rest.li filters modify request headers.

2.2.3
-----
(RB=425777)
Change ByteString to have slice & copySlice methods
Add new copy method to copy from a sub array

(RB=417088)
Fix a bug in AsyncPoolImpl where it fails to cancel pending create requests when it has drained out all pool waiters.

2.2.2
-----
(RB=427189)
Fix illegal argument exception thrown when a cookie header is added.

2.2.1
-----
(RB=407665)
Migrate to HttpClient 4.3.

2.2.0
-----
(RB=418083)
Create separate internal storage data structure for Cookie and Set-Cookie HTTP header. Making header storage data structure case insensitive.

2.1.2
-----
(RB=406996)
Configuration support for Rest.li request compression.

2.1.1
-----
(RB=408836)
Add unbatch logic while extracts single resonpes from an auto-batched batch response.
Add field name to RestliRequestUriSignature.toString() result.

2.1.0
-----
(RB=342503)
Making rest.li requests read-only.

(RB=405110)
Product sorted snapshot files.

(RB=405976)
Populate update status from error status.

2.0.5
-----
(RB=410397)
Adding a method on Request class that creates a string representation of the request without using security sensitive information.

2.0.4
-----
(RB=387501)
Pass the actual exception thrown by the resource (or a previous filter) to the rest.li response filters.

(RB=409087)
Fixing the wiring of parseq context for the method parameters annotated with the deprecated ParSeqContext annotation.

(RB=403572)
Added Rest.li 2.*.* release notes.

(RB=410847)
Fix deprecation Javadoc on annotations.

(RB=409497)
Handle the case when certain implementations of the Map inteface can't handle null.

2.0.3
-----
(RB=401742)
Change RestException.forError to set the given throwable as the cause.

2.0.2
-----
(RB=392178)
Add additional unit tests for RestLiArgumentBuilders.

(RB=404678)
Remove redundant warning suppressions.

(RB=404996)
Fix enum encoding bug for compound keys in protocol v2.

2.0.1
-----
(RB=387791)
Java 8 support for Pegasus

(RB=399776)
Improve performance for BatchGet when using the new request builder.

(RB=395883)
Add projection tests to Rest.li response builder tests.

(RB=389315)
Add dump functionality to RestliRequestUriSignature, which produces stable toString() output.

2.0.0
-----
(RB=340252)
Remove Rest.li 1.0 deprecated APIs.

(RB=386223)
Deprecate Rest.li 1.0 request builders.

1.24.8
------
(RB=397613)
Update Javadoc of Request#getUri().

1.24.7
------
(RB=390685)
Decrease default R2 http.idleTimout to 25s.

1.24.6
------
(RB=383405)
Fix memory leak in documentation generation.

(RB=378851)
Add unit tests for RestLiArgumentBuilders.

(RB=386973)
Task and Promise based async templates.

(RB=383125)
Enable Gradle parallel build and config-on-demand.
Fix the dependency order in the generated IntelliJ IDEA module of data-avro-1_6.

(RB=385433)
Introduce ProjectionUtil that tells if specific PathSpecs are filtered by a given MaskTree.

1.24.5
------
(RB=387900)
Add null pointer check for load balancer.

1.24.4
------
(RB=377223)
Turn on Rest.li 2.0 request builders by default in Gradle plugin.

(RB=377647)
Add protocol 2 URIs for BatchGetRequestBuilderTest.

(RB=380112)
Add unit tests for all classes that implement RestLiResponseBuilder.

(RB=333673)
Disallow server impl module itself to be its API project.

(RB=371175)
Allow projections on custom metadata and paging.

(RB=367345)
Repair logging for restli tests

(RB=383570)
Return parameterized ComplexResourceKey from MockBatchKVResponseFactory.createWithComplexKey().

1.24.3
------
(RB=362685)
Revisit resource method null handling.

Deprecating some parameter annotations, replacing with new ones, adding new resource context parameter annotaions and adding unit tests for the same.

(RB=376032)
Upgrade jackson-core and jackson-databind dependencies to 2.4.3.

1.24.2
------
(RB=372362)
fix the bug in handlePut of UriProperties.

1.24.1
------
(RB=370601)
Make Request#getId() return null for Rest.li 2.0.

1.24.0
------
(RB=364843)
Fail fast if resource names clash.

(RB=369715)
Make latest version Rest.li 2.0.

1.23.8
------
(RB=368138)
Expose more properties through DegraderLoadBalancerStrategyV3Jmx

(RB=368038)
Server responds with the same protocol version header name as the client requests.

1.23.7
------
(RB=363781)
Force use next version override.

1.23.6
------
(RB=364827)
reduce the number of hashes in mapKeyV3
update HashBasedPartitionAccessor
move hashLong into HashFunction interface

1.23.5
------
(RB=363214)
Support deprecated protocol version header (X-Restli-Protocol-Version).

(RB=364338)
Use Semaphore to allow multiple outstanding put (when calling D2Config) simultaneously.

1.23.4
------
(RB=359021)
Include file name for pdsc related error messages.

(RB=356420)
Subclassing ZooKeeperPermanentStore to only write changed and new properties to store.

1.23.3
------
(RB=356010)
Update RestLiAnnotationReader to check if a resource' annotation matches its template type.
Remove RestLiCollectionCompoundKey as it is not used.

(RB=356000)
Introduce doc support for action return types.

(RB=360399)
Allow client to change r2 min pool size

1.23.2
------
(RB=353147)
RestliRequestUriSignature: Handle assocKey for FindRequest and GetAllRequest.
MockActionResponseFactory: Add option to support dynamic schema, such as CollectionResponse.

(RB=357131)
Throw exception while generating IDL when Finder or GetAll methods are annotated with non-existing assocKeys.

1.23.1
------
(RB=348277)
Deprecate RestliProtocolCheck.

1.23.0
------
(RB=347094)
change getPartitionInformation so the ordering of the server will be consistent for identical hashrings

(RB=349490)
Add RestliRequestUriSignature, A summary object for the URI of a Rest.li Request.
Add MockActionResponseFactory for mocking ActionResponse.

1.22.0
------
(RB=346821)
allows client to change r2 client pool waiter size

(RB=344020)
Adding logic to throw exception if BatchGetRequestBuilder.batch methods are called for requests with Compound or Complex Keys.

1.21.2
------
(RB=345140)
Unit test and the fix for the DegraderImpl rollver deadlock

1.21.1
------
(RB=339157)
Add new API to Ring: getIterator()

(RB=344866)
Fixing Java 7 Build.

(RB=337425)
Changing the protocol version to 1.0 in those places we want 1.0 instead of baseline such as deprecated code paths.

1.21.0
------
(RB=334824)
Add NPE check for removePartial in ZookeeperEphemeralStore

(RB=337296)
Fixing documentation handler to handle empty path and paths containing just "restli".

(RB=321440)
Throw an exception when getId is called on the response and the key is a complex or compound key.

(RB=341565)
make sure we always get consistent ordering of hashes from getPartitionInformation

(RB=342147)
Fix incorrect generated snapshot when a typerefed data schema has included schema.

1.20.0
------
(RB=319445)
Forbid ID header being directly accessed.

1.19.2
------
(RB=330658)
Add API to get multiple hosts from all partitions

(RB=327432)
remove checkPathValue from idl/snapshot backwards compatibility checks.
Paths are now expected to be identical.

(RB=324987)
Generated included unnamed union in the defining class.

(RB=326034)
Update PathKeys.

(RB=330531)
Fix bugs in ArgumentBuilder.

(RB=331140)
Fix bug in ActionRequestUriBuilder.

1.19.1
------
(RB=317297)
return 400 status on input coercion failure

(RB=325317)
remove autoboxing from ConsistentHashRing.compareTo

1.19.0
------
(RB=323266)
expose partitionInfoProvider to Facilities (this can break classes that implement Facilities)

(RB=322336)
Update snapshot generator to expand included schemas in the models list instead of inside the include field.

(RB=322858)
fix d2TransportClientProperties schema to reflect what's actually being stored

(RB=311710)
Distinguish BatchGet with empty batch keys and GetAll by passing empty "ids=" query parameter from client and handle in server.

1.18.3
------
(RB=322445)
add NPE check for transport client compression

1.18.2
------
(RB=313441)
Use Gradle 1.12.

(RB=312937)
Fix bug in how example requests are generated for batch update and batch partial update.

(RB=313946)
Introduced new interface called RestLiResponseData to expose response data to filters.

1.18.1
------
(RB=315193)
Fix typo in protocol version header.

1.18.0
------
(RB=316654)
Introducing a check inside BatchGetRequestBuilder.build() to fail when the key is CompoundKey or ComplexResourceKey.

1.17.3
------
(RB=315698)
Fix issue with inconsistent space encoding/decoding in uri paths.

(RB=313443)
Add cache to RecordTemplate field getter/setter whose type needs to be coerced (custom type).
Note that RecordTemplate classes need to re-generated from .pdsc files to activate this feature.

(RB=318144)
Add wire attrs as a param.

1.17.2
------
(RB=313174)
Re-apply "Re-design Rest.li response API for various batch operations" with performance issue solved.

(RB=312225)
Support BatchGetEntity and EntityResponse for ScatterGatherBuilder.

1.17.1
------
(We skipped this version)

1.17.0
------
(RB=314186)
CreateIdResponse.getId() now throws an exception if the requested Id is a Complex or Compound key.

1.16.2
------
(RB=312291)
Match previous changes in BatchCreateIdResponse to BatchCreateResponse

(RB=313446)
Temproarily revert "Re-design Rest.li response API for various batch operations" due to performance issue.

1.16.1
------
remove smurfing ability in D2 KeyMapper
(RB=310598)

fix bug in zookeeperAnnouncerJmx
(RB=312571)

1.16.0
------
(RB=311122)
Decoders for responses that require a non-null dataMap will now return null if passed a null dataMap in wrapResponse.

(RB=310817)
Allow filters access to strongly typed Ids in batch create responses.

(RB=310721)
Keep non-batch query parameters in ScatterGatherBuilder.

(RB=272198)
Re-design Rest.li response API for various batch operations. These changes does not include any change in
wire protocols. Changes in the APIs are mainly reflected in the new generated *RequestBuilder classes.
For more information, please refer to https://github.com/linkedin/rest.li/wiki/Rest.li-2.0-response-API

1.15.24
-------
(RB=310960)
add new method to set partitionData in ZKAnnouncerJMX
expose method to access zkannouncer from ZooKeeperConnectionManager

1.15.23
-------
(RB=303020)
Allow for clients to recieve strongly-typed keys returned from batch creates.
old builders can cast CreateStatus to CreateIdStatus and then call .getKey
new builders simply return CreateIdsStatuses.

1.15.22
-------
(RB=307113)
changed rangePartition properties to long because in the actual property, it's long not int

1.15.21
-------
(RB=306535)
Fix toString, equals and hashCode on idResponse

(RB=306516)
Add ability to suppress regex matching failure warning via service properties, for cases where stickiness is desired only some of the time.

(RB=299700)
Adding a read only view of ResourceModel for filters


1.15.20
-------
(RB=288213)
Provide methods to map keys to multiple hosts in KeyMapper

1.15.19
-------
(RB=302891)
Fix java 7 warnings.

(RB=299112)
Allow for clients to receive strongly-typed keys returned from creates.
old builder format:
CreateResponse<K> entity = (CreateResponse<K>)response.getEntity();
K key = entity.getId();
new builder format:
CreateIdResponse<K> entity = response.getEntity();
K key = entity.getId();

Additionally, added back in public wrapResponse function RestResponseDecoder that was removed in 1.15.14,
but it is marked as deprecated.

1.15.18
-------
(RB=300929)
Add trace level logging of response to DynamicClient

(RB=301656)
Make ScatterGatherResult.getRequestInfo() and .getUnmappedKeys() public. KVScatterGatherResult also.

(RB=301492)
Clean up caprep so it can be better leveraged for language independent test suite.

1.15.17
-------
(RB=299453)
Fixed bug where any request with the word restli in it is treated as a documentation request

(RB=299380)
Expose hash ring information through jmx

1.15.16
-------

(RB=298904)
Update D2ClientBuilder to honor d2ServicePath

(RB=295065)
PegasusPlugin: Generate list of input pdsc files for generateDataTemplate task at execution time.

(RB=297096)
Extract client cert from https request and save it in the RequestContext.

(RB=296391)
Support AsyncCallableTasks and documentation requests in the mock http server. Clean up mock http server threadpools. Fix hashCode in ProtocolVersion.

1.15.15
-------
(RB=297875)
Resurrecting InvokeAwares.

(RB=276851)
Checking in support for RestLi filters.
Checking in RestLi filters integration test.

1.15.14
-------
(RB=247966)
Changes to allow 2.0 URI format.
2.0 URI format will be publicly documented shortly.
Related refactoring of key encoding.
Added many tests to cover both 1.0 and 2.0 URI format.

(RB=295979)
add setter for d2ServicePath in D2ClientConfig

1.15.13
-------
(RB=292644)
Support Avro translation OptionalDefaultMode in PegasusPlugin.

(RB=294234)
Fix avro schema translator to not translate default values (that will not be used) when avro override is present.

(RB=295035)
Added a PegasusSchema pdsc.

1.15.12
-------
(RB=293255)
Reapply "add LRU mode and minimum pool size to AsyncPool"

(RB=293315)
Add more async pool metrics

1.15.11
-------
(RB=290169)
PegasusPlugin: Deprecate compatibility level OFF and short-circuit to IGNORE.

(RB=288855)
Changing the action parameter setting method name in new client builders to "<parameter name>Param".

(RB=291596)
Add support for AsyncR2Servlet in RestliServlet, update examples to use Jetty 8 with async enabled.

(RB=290827)
Adding a central place (new module r2-unittest-util) to check in test classes all across r2 and can be used in all r2 tests

1.15.10
-------
(RB=289792)
Fix scaladoc extractor to not throw an exception on a undocumented param.

(RB=290416)
Fixing D2 client to log only the non-sensitive parts of the request.

1.15.9
------
(RB=288605)
Fix bug in scaladoc provider where class and object of same were not disambiguated between correctly.

(RB=289001)
Fix bug where when maven artifacts are not properly depended on using gradle 1.9+.  This was because
the maven pom contained test and compile scopes for the same artifact.  The fix is to not publish the
test artifact dependencies into maven poms.

1.15.8
------
(RB=288441)
Relax master colo check in D2Config if enableSymlink is set.

(RB=288471)
Fix a bug where an exists watch gets incorrectly disabled when it's still valid.

(RB=288481)
Add symlinkAware option in ZKPersistentConnection.

1.15.7
------
(RB=285003)
Fix bug in example generator where query params of complex types are incorrectly
rendered as stringified data maps with { and } instead of the correct URI
representation.

(RB=282064)
Removing X-RestLi-Type and X-RestLi-Sub-Type headers.

1.15.6
------
(RB=284603)
Add the IP address to RequestContext.

(RB=285727)
Use the correct markUp function for ZooKeeperAnnouncers

1.15.5
------
(RB=276294)
Use TestNG listener to fail skipped tests rather than ignoring them.
Upgrade quickstart example to support Gradle 1.9+.

(RB=202580)
Update restli-int-test data provider to avoid suppressing the rawtypes warning.

(RB=283790)
Assume that the server is using the baseline protocol version.

(RB=283477)
Add support for URI specific properties to D2.

(RB=283854)
Replace dependency of google-collections with guava.
Remove usage of Gradle internal API.

1.15.4
------
(RB=275644)
ComplexResourceKey now tries to create key/param record templates using schemas
from the key spec

1.15.3
------
(RB=276699)
Added .pdscs for D2 related information into newly created d2-schemas module.

1.15.2
------
(RB=275463)
Added new fields to the Request toString method.

1.15.1
------
(RB=266089)
Generate alternative version of client request builders.
Change integration tests to test the new request builders.

(RB=273408)
Implementation of equals, hashCode, and toString in Request and derived classes.

(RB=273416)
Add ability in d2Config to produce d2 symlink for single-master services

1.15.0
------
(RB=271265)
Add protocol version header to error response.
Add test for protocol version in error case.

(RB=274091)
Fix example generator to include finder params in generated examples, add test.

(RB=271256)
Remove hard-coding of format of association keys in IDLs and Builders.
Add tests to ensure backwards compatibility, and make sure the path changes resulting from this in IDLs
are considered backwards compatible.

1.14.7
------
(RB=266640)
Add support of enum array in parameter's default value.

(RB=264605)
Added test utilities that can be used by application developers to test their Rest.li clients and servers.

1.14.6
------
(RB=268867)
Add dataTemplate to generateRestClient classpath for smaller Java binding.

(RB=270034)
Deprecate R2 RPC.

1.14.5
------
(RB=268683)
Fix bug in Data to Avro schema translation in which assertion will be thrown if the same record schema is included
more than once, and that schema contains fields that either have a default value or is optional.

1.14.4
------
(RB=267118)
Making request execution report generated only for debug requests.

(RB=265900)
Fix a bug where documentation strings would not show up in idls/snapshots when a method parameter was an array.

1.14.3
------
(RB=264806)
Fix a bug where RecordTemplates in Array parameters were not validated.

(RB=253429)
Add support of reading symbolic link in Zookeeper.

(RB=264751)
Fix bug that single element is added to query param.

1.14.2
------
(RB=264174)
Increment parseq version which removes unservable files from the tracevis tar ball.

(RB=264173)
Use ProtocolVersionUtil to get protocol version in ErrorResponseBuilder.

1.14.1
------
(RB=262805)
Adding set method for Rest.li debug request handlers on Rest.li server config.

(RB=262459)
Adding a temporary fix to ignore the unused folders in the parseq-tracevis artifact in maven central.

(RB=260228)
Adding debug request handler support to Rest.Li. Introducing a new debug request handler: Parseq Trace Debug Request Handler.

(RB=261581)
Fix header display bug in docgen resource page.

1.14.0
------
(RB=258481)
Create enum for Rest.li protocol versions.

(RB=258219)
Replace hand written data templates with generated ones.

(RB=259104)
Move AllProtocolVersions from com.linkedin.restli.common.internal to com.linkedin.restli.internal.common.

(RB=258733)
Fail fast when a server receives a request from a client that is encoding using a Rest.li protocol that the server does not support.

(RB=256518)
Rename X-Linkedin headers (ID and ErrorResponse) to X-RestLi headers.

(RB=261288)
Change zookeeperAnnouncer's markdown() name and implementation so its action is easier to understand

(RB=261502)
Shorten the logging in d2 state to be more readable + changed the interface of D2 strategy Jmx

(RB=261855)
Make the error details optional in an ErrorResponse to be consistent with previous behavior

1.13.5
------
(RB=257823)
Fix for getting the uri in ScatterGatherBuilder and GetAllPartitionsRequestBuilder if the legacy constructor is used.

1.13.4
------
(RB=257238)
Fix memory leaks from CopyFilter.

1.13.3
------
(RB=251559)
Add scaladoc support to Rest.li IDL generation.

(RB=256825)
Fixed a bug where if the deprecated constructor + D2 is used then getting the protocol version will fail in the RestClient as "d2://" is not a valid URI.

1.13.2
------
(RB=254542)
Refactor when projections are encoded in the URI.  Move encoding back to the normal URI encoding process.

(RB=255178)
Include schemas referenced inline when generating OPTIONS responses.

(RB=255203)
Disallow typeref as key type in annotation reader. This fixes the inconsistency between annotation reader and resource model.

(RB=251559)
Add scaladoc support to Rest.li IDL generation.

1.13.1
------
(RB=252070)
Added add markdown and markup to ZKConnectionManager

1.13.0
------
(RB=253633)
Added next protocol version. Set the latest protocol version to 1. Added a FORCE_USE_NEXT ProtocolVersionOption. Updated negotiation code.

1.12.4
------
(RB=252372)
Fix d2 rewrite bug and fix related pathKeys incorrect encoding issue.

(RB=251668)
Fix for handling invalid MIME types in accept header. Now, if a request has one or more invalid MIME types in the accept header of the request, the request is rejected with a 400. If the no supported MIME type is found in the specified accept header, a 406 is returned BEFORE the request is processed.

(RB=253327)
Fixed assertion ordering in TestRestClientRequestBuilder.

1.12.3
------
(RB=250488)
pegasus plugin: Add "overrideGeneratedDir" property to override per-module generated directory.

1.12.2
------
(RB=251936)
Added null checks for ComplexResourceKey.makeReadOnly

1.12.1
------
(RB=250849)
Revert RB 249757

1.12.0
------
(RB=248588)
RestClient now fetches properties for the URI the request is going to before sending the request.
Added RequestOptions at the top level client builders as well as each generated RequestBuilder.
Added Rest.li protocol version negotiation.

1.11.2
------
(RB=248629)
Improve Rest.li projection performance, especially in sparse use cases.
Rename DataMapProcessor to DataComplexProcessor. The old DataMapProcessor is deprecated.

1.11.1
------
(RB=249757)
Fix d2 rewrite bug

1.11.0
------
(RB=235394)
Refactor *RequestBuilders into *RequestUriBuilders that are responsbile for constructing the request URI.
Introduced the concept of a Rest.li protocol version.

1.10.7
------
(RB=240001)
Providing a way to get the response payload and status without catching exceptions in case of a Rest.Li error.

(RB=242468)
Add more tests for AbstractRequestBuilder.
Use resource stream in restli-tools tests.

(RB=246314)
Added injectable headers to resource methods.
Use by adding a param to a resource method like @HeaderParam("Header-Name") headerValue
This allows KeyValueResources to access headers, even though they cannot call getContex.

1.10.6
------
(RB=243742)
Add test for DegraderLoadBalancerState
(RB=244652)
Improve test for DegraderLoadBalancerState
(RB=244397)
Simplify V3 DegraderLoadBalancerState

(RB=244654)
Add support for rest.li 'OPTIONS' requests to java client bindings.

1.10.5
------
(RB=240968)
Simplify state update logic in degrader balancer strategy in V3
The same change for V2 is made to the new V2_1 strategy to leave
V2 untouched for the safer rollout

1.10.4
------
(RB=243172)
Fix bug caused by race condition in resize() of DegraderLoadBalancerStrategyV3

(RB=243503)
Fix a bug where CallTracker doesn't honor the use of LoadBalancer interval

1.10.3
------
(RB=242286)
Generate error that was not previously detected when trying to set incompatible overriding default value in
outer type (e.g. record) that overrides default of an inner type (e.g. string field within record.)

(RB=242652)
Add support for schema JSON strings greater max Java string literal length.

(RB=235794)
Add propagation of deprecated keys used on types and fields in pdscs to generated java data templates.

1.10.2
------
(RB=241241)
fix a problem where threads will get locked if there is an uncaught exception being thrown during updateState in LoadBalancerStrategy

(RB=239728)
Add javadoc to SchemaSampleDataGenerator.
Implement sample data callback for SchemaSampleDataGenerator.

1.10.1
------
(RB=241529)
Remove logging from data.

1.10.0
------
(RB=231736)
Upgrade Jackson to 2.2.2.

1.9.49
------
(RB=239631)
Fixed log error message in ClientServiceConfigValidator.

1.9.48
------
(RB=239561)
Fix bug in ClientServiceConfigValidator. We were previously casting the values directly to an int. However, this is incorrect as the values in the map are Strings.

1.9.47
------
(RB=237507)
Fix of getClient for scatter/gather and search

(RB=234511)
Replacing IdentityHashMap in RecordTemplate, WrappingMapTemplate and WrappingArrayTemplate with a custom cache implementation.

1.9.46
------
(RB=233744)
Disable data object checking on safe and performance-critical situations.

(RB=235277)
Added compatibility checking to annotations. Annotation changes will now be considered compatible rather than
simply skipped over and thus considered equivalent.

(RB=235831)
Add functionality of listening to all children's data under a certain znode in ZooKeeper.

1.9.45
------
(RB=233764)
Add permissive option to degrade on serializing bad user data

1.9.44
------
(RB=232974)
Adding perf test for Record Template put performance.

(RB=231054)
Make skipping publishRestliIdl task more precise by taking advantage to changes to CompatibilityInfoMap.
PublishRestliIdl should now be skipped if there are only model changes.

(RB=229233)
Add support for deprecated annotation.

1.9.43
------
(RB=231737)
Only validate union data if map has a single entry

1.9.42
------
(RB=226303)
Add @TestMethod annotation to indicate which methods on a resource are intended to only be used for testing.

(RB=224402)
Add compatibility checking between snapshot and idl.

(RB=228981)
Fixing the onlyIf closure for Publish tasks, adding more logging to ease debugging for future.

(RB=230533)
Fix bug that schema compatibility checking throws exception of "java.util.MissingFormatArgumentException: Format specifier 's'".

(RB=230897)
Support per-sourceSet pegasus/snapshot/idl override properties.

(RB=230550)
Fix missing doc field in generated snapshot/idl files, which is caused by multi-threaded generation.

1.9.41
------
(RB=225308)
Refactor r2 asyncpool stats to make it visible outside the package.

1.9.40
------
(RB=226611)
Fix a bug where SimpleLoadBalancerState didn't remove an old entry in cluster -> services
mapping when SimpleLoadBalancerState receive a service changes notifications from Zookeeper.
At the same time we are adding more JMX handle to load balancers to allow more control at runtime.

(RB=225607)
Fix two bugs related to snapshots:
snapshot compatibility messages during checkSnapshot task should now print correctly.
snapshots of simple resources should be generated correctly.

(RB=225673)
break up compatibility info in CompatibilityInfoMap into two maps: one for tracking info from restSpecs, the other for
tracking info from models.  Added new methods for extracting this information from the infoMap.  Old methods for getting
general data are still around.  Backwards-incompatible changes to method names for inserting info into compatibilityInfoMap.

1.9.39
------
(RB=224558)
Improving Pegasus build messages for network parallel builds. Making sure the access to static variables are synchronized.

(RB=225725)
Add additional http status codes to list.

1.9.38
------
(RB=224678)
Make d2 test artifacts visible.

1.9.37
------
(RB=222898)
added logic to prevent callDroppingMode in LBStrategy to be changed when traffic is low

(RB=221327)
Change emitted message on successful build to include a listing of all published
IDLs and snapshots that likely need to be committed.

(RB=222817)
Fixes to checkIdl task in PegausPlugin.  Some small clean-up in compatibility tasks:
Only initialize a single checker class rather than one per pair of files, and don't
bother setting resolver paths when checking snapshots of file counts.

(RB=223135)
Fix a bug in R2 that a pooled channel can be disposed twice.

(RB=223827)
Add operation information to the resource context to enable logging on the server side.

(RB=224108)
Made get data length safe in RetryZooKeeper

(RB=224314)
Fixed the READMEs in the examples folder and converted them to Markdown

(RB=224729)
Fixed a bug in Snapshot generation relating to entity-level Actions and Finders in
Association resources.

1.9.36
------
(RB=220182)
Fixes to make Rest.li build on Windows.

(RB=221652)
Fix DynamicRecordTemplate to accept DataList argument while setting fields of type array.

(RB=215380)
Enabling complex key based look ups on BatchKVResponse objects. Fixing a query parameter array serialization issue in BatchKVResponse for Complex Keys.

(RB=214848)
Refactored Count checks as individual tasks out of PegasusPlugin, and reintegrated them back into
regular compatibility checks.
Changed the message emitted with changes.
New message will appear if a compatibility check is run on what appears to be a continuous integ.
environment (where -Prest.model.compatibility=equivalent).

(RB=222257)
Revert suspicious changes in R2 AsyncPool that may cause site relibility issue.

1.9.35
------
(RB=217963)
Add ability to collect and export R2 AsyncPool Stats

(RB=216982)
Add ability to config R2 AsyncPool strategy between LRU and MRU.

1.9.34
------
(RB=218284)
Enabling Async R2 Servlet

1.9.33
------
(RB=218537)
Disallow null values in setParam. Add more tests.

1.9.32
------
(RB=218023)
Fix the allowed client override keys.

1.9.31
------
(RB=217233)
Revert "Make use of async servlet api in R2 servlet. Change integration tests to start test servers as necessary."

1.9.30
------
(RB=207412)
Allowed access to the ResourceModels of a RestLiServer. Made the resourcePath generation function public.

(RB=216547)
Fixing binary incompatible removal of header, param and reqParam methods on client builder base classes.

1.9.29
------
(RB=208312)
Rename X-Linkedin headers to X-RestLi headers.

(RB=215550)
Fixed a bug in SimpleLoadBalancerState that prevented recovering from a bad property push during publishInitialize

1.9.28
------
(RB=210345)
Make use of async servlet api in R2 servlet. Change integration tests to start test servers as necessary.

1.9.27
------
(RB=212287)
Refactor restli-client request builder classes:
  1) deprecate header(), param and reqParam()
  2) add setHeader(), setHeaders(), addHeader(), setParam(), setReqParam(), addParam() and addReqParam()
For query parameter and action parameter that is array type, add convenient request builder method to add element one by one.
For ActionRequestBuilder, required parameter will call reqParam() instead of param() now.

1.9.26
------
(RB=210935)
Added the ability to inject MaskTree (@Projection) and PathKeys (@Keys) from a
request into a method.  This allows KeyValueResources to be able to use
Projections and PathKeys in their method implementations.

(RB=211406)
Fix bug that when complex resource key contains invalid URI characters (e.g. space), batch update fails with URISyntaxException.

1.9.25
------
(RB=211206, 211283)
Added ability for clients to specify either actual lists or string representation of lists for transport client properties.

1.9.24
------
(RB=202295)
Refactor IDL and Snapshot compatibility checks. Move file number checks to their
own tasks. Add in a flag -Prest.idl.skipCheck to allow all IDL checks to be
skipped. (IDL file count check is still run with -Prest.idl.compatibility=OFF)

(RB=208110)
Add InvokeAware interface to allow user code to listen to the restli method invocation events in restli server.

(RB=209638)
Add ProjectionMode option in ResourceContext to allow rest.li service implementers
to disable automatic projection when they are explicitly examining and applying
projections.

1.9.23
------
(RB=206396)
To detect, as early as possible, a mistake that is otherwise difficult to debug, add
check during data template generation that verifies filename and path match schema
name and namespace.

(RB=207258)
Add configuration to allow the rest.li server to limit exception details in responses and to customize the default response for internal server error responses.

1.9.22
------
(RB=206507)
Allow routing to batch partial update with no "X-RestLi-Method" HTTP header.

(RB=206724)
Support more HTTP header manipulation methods in restli-client request builder.

1.9.21
------
(RB=204527)
Add spring and guice support, enables running rest.li servlets with dependency injection, also add a logging filter.

(RB=205233)
Fix bug in D2Config that service variant doesn't point to master colo when defaultRoutingToMaster is set.

(RB=204500)
Fix bug that R2 Client may lose connection forever after the server being bounced when there is a very high downstream
qps and D2 is not used.

1.9.20
------
(RB=205315)
Removed the notion of client only supplied config keys. Fixed bug in reading set from transport client properties.

1.9.19
------
(RB=204042)
Fix bug when GenericArrayType is used in action return type.

1.9.18
------
(RB=203386)
Fixed bug in client only config key-values.

(RB=203610)
Add support for returning error details in batch create responses.

(RB=202724)
Implement context path for Jetty server.

1.9.17
------
(RB=202641)
fix isRegistered in JmxManager

(RB=198503)
Added ability for clients to provide service level configs. Added support for clients to enable response compression.

(RB=202201)
Add thread pool size configuration parameters to RestliServlet, NettyStandaloneLauncher and StandaloneLauncher (jetty).

(RB=200469)
Allow an boolean expression of predicate names to be passed to FilterSchemaGenerator.
Add NOT predicate.

1.9.16
------
(RB=200567)
add isRegistered to JmxManager to find out whether a bean has been registered to jmx

(RB=200079)
Changing the dev default of the compat checker to BACKWARDS.

1.9.15
------
(RB=199182)
Remove unneeded dependencies on r2-jetty to avoid dragging jetty dependency downstream

1.9.14
------
(RB=196208)
Print warning for the deprecated configuration from the pegasus plugin.
Correct variable names in the pegasus plugin.

(RB=197690)
Relaxing the action parameter check to allow them on all method types as before.

1.9.13
------
(RB=196626)
Added batch operations to the async complex key template.

(RB=196751)
Fixing the schema resolution ordering problem.

(RB=196211)
Disallow @QueryParam in action methods, disallow @ActionParam in non-action methods.

(RB=197277)
Added support for shutting down the ZK connection asynchronously in the d2 client and ZKFSLoadBalancer.

1.9.12
------
(RB=196204)
Fixing data template generator to process type refs specified as array and map items.

(RB=192500)
Add class to filter DataSchemas in a directory by removing unwanted fields or custom properties of the schema according to given Predicate.

(RB=196098)
Improve FileClassNameScanner to 1) require a specific extension; 2) exclude whose guessed class name contains dots.

1.9.11
------
(RB=194990)
Added batch operations to the async association template.

(RB=190812)
allow specifying an empty string for coloVariants, useful in testing.

1.9.10
------
(RB=195487)
Fix a problem that can block Netty boss thread for a long time.

(RB=195243)
Fixed issue with Complex Keys with fields arrays containing a single element in get requests.

(RB=194339)
Fixing Example Generator to create correct request body for partial updates.

(RB=193189)
Added batch methods to the async interface and template for simple (non complex key, non association) collections.

(RB=190386)
Fixing couple of issues in annotated complex-key resources and async complex-key resource template. Adding extensive test covarage for both scenarios.

(RB=193265)
Add Union template builder method per member.

1.9.9
-----
(RB=188507)
fix the bug where threads that are waiting for state initialization, never stop waiting because the init step throws an exception

1.9.8
-----
(RB=192299)
Added fix to prevent a complex key when a CollectionResource is being used.

1.9.7
-----
(RB=190153)
Protect D2 from intermittent zookeeper problem

1.9.6
-----
(RB=188125)
Changed Snappy dependency to pure Java dependency to avoid JNI issues on Jetty.

1.9.5
-----
(RB=189900)
Add HttpNettyServerFactory and standalone launcher.

1.9.4
-----
(RB=189079)
Fixed issue with snapshots generation failing when referenced pdscs were circularly dependent.
Added tests to make sure that Snapshot generation and reading would work correctly with
circularly dependent models.

(RB=187506)
Added granular set methods for pagination start and count for getall and finder client builders.

1.9.3
-----
(RB=186736)
fixes snapshot incompatibility message printouts.

(RB=184701)
removes unused property keys and removes the non http-namespaced properties referenced in D2 code

(RB=184310)
Move AvroSchemaGenerator out of data-avro due to logging dependency requirement.

(RB=184337)
Adding support for partial update methods on simple resources.

(RB=184874)
Bug fix with compression client filter Accept-Encoding generation

(RB=185890)
Added string constructors to compression filters.

(RB=185181)
Use ParSeq 1.3.3, which depends on log4j 1.6.2 and converges to the same dependent version as Rest.li uses.
Add missing log4j.xml to restli-example-client.

1.9.2
-----
(RB=183317)
Simplify and speed up string intern tests in TestJacksonCodec. This only affects tests.

(RB=182331)
Adding support for java array return and input parameters for actions.

(RB=183215)
Add separate compatibility check for idl.
Add flag to turn off snapshot and idl compatibility check respectively.

1.9.1
-----
(RB=182338)
Fix bug in pegasus plugin that publish snapshot task may not run.

(RB=181765)
Fix up jdk7 warnings.

(RB=171893)
Added server/client compression filters and associated test cases.

(RB=182463)
Adjust log4j related dependencies and log4j.xml. Remove all compile-time dependency of log4j.

1.9.0
-----
(RB=176567)
Introduce simple resources concept which serves a single entity from a particular path.

(RB=174576)
Clean up SLF4J/Log4j mess by removing all dependencies on Log4j and
the SLF4J/Log4j adapter from production jars.

If your executable (war file, etc.) does not already depend on an SLF4J
adapter, you may need to introduce such a dependency, for example on
slf4jlog4j12.

(RB=176574)
Incorporate snapshot into pegasus plugin. All existing projects will automatically generate and publish the snapshot files.

(RB=179212)
add defaultRouting option to d2Config.

1.8.39
------
(RB=177700)
pegasus plugin and idl compatibility checker will check for missing and extra published idl files.

1.8.38
------
(RB=175711)
When generating idl, pass the source files of the resource classes to Javadoc.
When checking idl compatibility, doc field change is now a backwards compatible change instead of equivalent.

(RB=178168)
Update gradle plugin to check source of all languages when deciding if idl generation should be skipped.  This fixes a bug where scala
*Resource.scala files were ignored.

(RB=172518)
Use PegasusPlugin to build pegasus integration test modules and examples.

1.8.37
------
(RB=176630)
Fix a pegasus plugin regression about null pointer.

1.8.36
------
(RB=175637)
Fix HttpClientFactory.shutdown() with timeout so it does not tie up
the executor for the length of the timeout.

(RB=173757)
Snapshots implemented locally in pegasus.  PegasusPlugin was not changed, so others using pegasus won't be able to use Snapshots yet.
Within the project, Snapshots are now used instead of IDLs for backwards compatibility checking.  (IDLs are still used to create builders
and are the source of truth for client-server interaction, however)  Snapshots have the advantage that they contain the models that they
reference, so backwards incompatibile changes between models can now be noticed.

(RB=175771)
Gradle plugin: Add missing data and restli-client dependencies to javadoc task classpath. Add test and clean up source code.

1.8.35
------
(RB=174898)
In pegasus plugin, fix bug that avro schema generation is run unconditionally. Now avroSchemaGenerator configuration will be respected again.
  Note that there is a new preferred appraoch to do this. Please refer to plugin comments.
In pegasus plugin, if a source set does not have jar task, skip publishing idl.

1.8.34
------
(RB=174570)
Register listener before task execution for rest.li async methods that return promises.

1.8.33
------
(RB=173024)
Add functionality to generated idl files for all source files under a source directory.

(RB=172922)
Remove dependency of system properties from build.gradle in restli-tools.

(RB=173360)
Fix incorrect schema field for idl files.

(RB=173686)
Update Gradle plugin to allow server module skip specifying idlItems. In such case, all source files will be scanned.

(RB=172449)
The generators and tools the Gradle plugin depends on become runtime dependency so that user no longer needs to specify
  in the module dependency.
Allow dataTemplateCompile and restClientCompile configurations to be overridden.

(RB=173378)
Add RestliBuilderUtils, modify RestrequestbuilderGenerator to have static ORIGINAL_RESOURCE_NAME and getter
moved the log4j.xml files in the d2 and restli-server src dirs to the test dirs.

1.8.32
------
(RB=170403)
Added PatchHelper class with method which allows applying projection on patch.

(RB=171436)
Instead of getting properties from system properties, create config class for the data and Rest.li generators.
Hide the existing "run()" functions in the concrete generators to private generate() and provide static run() to pass required properties. Command-line main() will still use system properties.
Update the gradle plugin to use the new generator pattern. There is no need for synchronization block and support parallel build.
Remove dataModelJar and restModelJar artifacts from the plugin.

1.8.31
------
(RB=170494)
Interfacing the gradle plugin for LinkedIn specific version. 3rd party plugin could dynamically load the plugin and customize its properties.

1.8.30
------
(RB=170652)
Fix backward incompatible param change to RestLiResourceModelExporter.export()

1.8.29
------
(RB=169640)
Refactor IDL compatibility checking. Allow compatibility checking of referenced named Schemas.
Slightly alter some compatibility messages.

(RB=169203)
Add -resourceclasses option to idl generator command line application.

(RB=170283)
Update Gradle plugin. Use this version as source of truth in LinkedIn toolset.

1.8.28
------
(RB=167736)
Fix interface definition generation for typerefs in action return types and refactor RestLiAnnotationReader
to make action validation easier to understand.

1.8.27
------
(RB=168797)
Revert eec968ddab745286a8c9e05e35f0ddeab011a947 "Refactoring changes for testing resource compatibility."
as it breaks rum publishRestModel with this message:
"No such property: summary for class: com.linkedin.restli.tools.idlcheck.RestLiResourceModelCompatibilityChecker"

1.8.26
------
(RB=167737)
Add RestClient.sendRestRequest(..., Callback<RestResponse> callback) method.

1.8.25
------
(RB=168185)
Add support for enum value documentation for data template generator.

(RB=164876)
Fix bug where client builders failed to coerce batch results for resource collections keyed by a typeref.

(RB=165359)
Use com.linkedin.restli.server.NoMetadata to mark a finder's CollectionResult as no metadata.
Allow non-template return type for finders.

(RB=166235)
IDL compatibility checks for new methods, finders, actions and subresources.

(RB=167736)
Fix idl generation to correctly handle typerefs in action responses.

1.8.23
------
(RB=162866)
Change FixedTemplate to output using ByteString.toString() instead of asAvroString
Add more test cases for generated DataTemplate.

(RB=163290)
Fix bug where @Optional on finder assocKeys was not respected.

(RB=164364)
Fix a bug in idl compatibility checker that marks previously required and currently optional field as incompatible.

(RB=126830)
Deprecate the "items" field for the query parameters in idl. Array parameters use standard pdsc array format.
To make it backwards compatibile, request builders can still use Iterable parameters.
Fix bug that builder methods with Iterable<? extends DataTemplate> parameter are not working.
Update build scripts.
Use Gradle 1.5.

(RB=130743)
Add special rule of idl compatibility checker to handle the deprecated "items" field.

1.8.22
------
(RB=162206)
fix logging message for D2

(RB=161556)
Use thread context classpath instead of pegasus classpath when using Class.forName on names of
coercers, validators and avro custom data translators.

(RB=161961)
Add copy() and clone() methods to generated non-record DataTemplates.
Generated record DataTemplates have had these methods since 1.8.4.

(RB=162841)
Adding new resource class is a backward compatible change now.
Add instruction message for idl compatibility check failure.

1.8.21
------
(RB=162036)
Fix UnsupportedOperationException from SimpleLoadBalancerSTate while creating transportClientProperties for https

1.8.20
------
(RB=161479)
made TARGET_SERVICE_KEY_NAME a public static variable

(RB=154752)
Fix bug where shutdown of HttpClientFactory will fail if the final
event leading to shutdown occurs on a Netty IO thread.

(RB=159386)
Support typerefs in association keys for batch responses.

(RB=160441)
Disable interning of field names by Jackson parser.
This should reduce intended growth in perm gen.

(RB=160184)
Add embedded schema to Avro schema translated from Pegasus schema
This allows reverse translation without loss (e.g. loss of typeref, custom translation instructions).

1.8.19
------
(RB=158603)
Fix bug that context path is missing in docgen "View in JSON format" link.

(RB=154315)
Add SSL support in D2 client.

1.8.18
------
(RB=157884)
Fix NPE in Data Template generator when an array item or map value type is a typeref'ed union.

(RB=157128)
Fix queryParamsDataMap not able to convert single element query to StringArray

1.8.17
------
(RB=157735)
fix default and master service bugs in D2ConfigCmdline

1.8.16
-------
(RB=154319)
Allow repeat registration of a coercer *only* if the coercer is the same class as already registered.

(RB=154979)
add ability to exclude individual services from colo variants in d2-config-cmdline

1.8.15
------
(RB=154062)
moved transportClient, degrader and many other cluster properties to service properties (part 2)

(RB=153714)
make sure that a marked down server is not marked up by ZookeeperConnectionManager when the zookeeper connection is expired

(RB=153778)
Add "View in JSON format" link to all docgen pages in the navigation header.

1.8.14
-------
(RB=147678)
Improve client side logging of RestLiServiceException

(RB=152564)
Fix race condition between ZKConnection.start() and DefaultWatcher.process() by waiting for initialization completion
This replaces RB 149393

1.8.13
-------
(RB=152377)
Reapply "moved transportClient, degrader and many other cluster properties to service properties (part 1)"
Push the config producing code first then push the config consuming part later.

(RB=151543)
minimize the amount of logging that D2 makes when there is no state changes

1.8.12
------
Reverted "moved transportClient, degrader and many other cluster properties to service properties (part 1)"

(RB=151817)
Update RestLiConfig to allow RestLiServer to load specific resource classes.

(RB=152325)
Restore binary compatibility by changing return type of ScatterGatherBuilder$RequestInfo.getRequest()
back to Request (it was changed to BatchRequest in 1.8.9; this change was source compatible
but not binary compatible).

1.8.11
------
(RB=152040)
moved transportClient, degrader and many other cluster properties to service properties (part 1)
Push the config producing code first then push the config consuming part later.

(RB=152100)
bump to 1.8.11

1.8.10
------
(RB=150230)
Add detection of wrong assocKey in RestRequestBuilderGenerator.
Add display of assocKeys of finder in restli-docgen.

(RB=144421)
Added RoutingAwareClient to facilitate service name lookup from a routeKey

(RB=151086)
bump to 1.8.10

1.8.9
-----
(RB=149304)
Added ScatterGather support for BatchUpdates and BatchDeletes.
Made a backwards incompatible change to ScatterGatherBuilder.RequestInfo constructor; it now
accepts a BatchRequest instead of Request.

(RB=150347)
bump to 1.8.9

1.8.8
-----
(RB=144188)
Added jmx methods to query trackerClient and number of hashpoint.

(RB=149202)
Add dataModel build script and use in restli-common to publish EmptyRecord
and other core restli schemas so they can be referenced by other projects.

(RB=149393)
fix for ZKConnection/DefaultWatcher race condition

1.8.7
-----
(RB=146100)
Performance optimization for construction of query params to avoid
needlessly appending the array index as a string for each field in
a list only to remove it later.

(RB=146833)
Deprecate AbstractValidator default (no-arg) constructor. See class
comments for context.

(RB=146839)
Potential fix for Avro Schema Translator transient problem where
some embedded/contained schemas are not being translated.

1.8.6
-----
(RB=139285)
Fix up RestLiServiceException.toString() and update ErrorResponse
schema to correctly reflect optional fields.

(RB=141420)
Add ColoVariants to D2Config

1.8.5
-----
(RB=138254)
Add pdsc file and validator for EmptyRecord.

(RB=138178)
Workaround bug in ScheduledThreadPoolExecutor that caused
delays when calling HttpClientFactory.shutdown().

(RB=139799)
Order subresources when restspec.json is exported. This avoids massive changes in restspec.json when
resources are added or removed. (This is due to internal use of HashMap.)

(RB=140005)
add ClientBuilderUtil.addSuffixToBaseName.

(RB=140198)
Fix bug in translating null value in a union with null when translating from Avro data to Pegasus.

(RB=140010)
Performance tuning for requests with large numbers of query params.

(RB=140733)
Modified LoadBalancerStrategy to use error rate for load balancing

1.8.4
-----
(RB=137488)
Fix to PSON deserialization issues.
PSON responses should not deserialize correctly.
The default representation for PSON strings is now a length-encoded string.
All length encoded strings are now encoded with a two byte length by default.  This is a backwards-
incompatible change.

(RB=136944)
Allow Content-Types to include an optional Charset.  For now it is ignored, but including it will
no longer allow either the client or the server to be unable to parse the Content-Type.

1.8.3
-----
(RB=135225)
Fix UnsupportedOperationException from UnmodifiableMap in SimpleLoadBalancerState.

1.8.2
------
(RB=131451)
Add PatchTreeRecorder & PatchRequestRecorder to build patches that allow you to remove fields.

(RB=130545)
Allow clients to send request bodies in pson format. Upgraded servers will be
able to interpet bodies in pson format.

(RB=133781)
Remove legacy server code that uses ',' as separator for batch_get ids.  Correct format is "?ids=1&ids=2".

1.8.1
-----
Revert RB 126830 until compatibility issues are resolved.

1.8.0
-----
Increasing version to 1.8.0, because 126830 is wire-compatible, but compile-incompatible.

(RB=129457)
Modified D2ClientBuilder to accept load balancer factory as a parameter.

1.7.12
-----
(RB=130083)
Add RestliServlet to provide developers with a simple way to build a war using rest.li.

(RB=126830)
Deprecate the "items" field for the query parameters in idl. Array parameters use standard pdsc array format.
To make it backwards compatibile, request builders can still use Iterable parameters.
Fix bug that builder methods with Iterable<? extends DataTemplate> parameter are not working.

1.7.11
-----
(RB=130026)
Change build scripts to work with Gradle 1.3.

(RB=130083)
Add RestliServlet to provide developers with a simple way to build a war using rest.li.

1.7.10
-----
(RB=129645)
Add methods for common uses for ResponseFuture.getResponseEntity and RestClient.sendRequest(RequestBuilde ...)
client.sendRequest(builder.build()).getResponse().getEntity() can be simplified as follow to
client.sendRequest(builder).getResponseEntity();

1.7.9
-----
(RB=129334)
add try/catch to PropertyEvent runnables, add UnhandledExceptionHandler to NamedThreadFactory

(RB=129193)
fix a bug where the LoadBalancer config gets overwritten by empty map and causes D2 Strategy
to not instantiate properly

(RB=123406)
Change to allow clients to request data in pson-encoded format (and interpet pson-encoded data),
and for servers to be able to send pson-encoded responses.

Clients can signify that a response should be in pson format by sending the request with the
header "Accept-Type : application/x-pson".  The server will then encode the result in pson and
send it back with the header "Content-Type : application/x-pson". If the client recieves a
response with this header it will decode it with the pson codec.

Some headers will now work a bit differently:
Content-Type headers will no longer be sent with responses unless there is actual body content
to encode.  This change was made primarily to simplify picking the right header.  There's no
point in trying to figure out the right content-type header to send back if there isn't
actually any content to send.
Accept-Type headers can now be sent with requests.  The default client won't send Accept-Type
headers (same as the old code), but users can use the new RestClient constructor to create a
client that will send Accept-Type headers.  Right now there are four basic options for
Accept-Type headers:
 - no header: server will send back result as application/json.  This is required for backwards
   compatibility.
 - application/json highest quality in header: server will send back result as application/json
 - application/x-pson highest quality in header: server will send back result as
   application/x-pson.  If the server code is old, result will be sent back as application/json
 - */* highest quality in header: for now, server will send back result as application/json, if
   no other accept types are found.  However, the server will prefer to send back responses in
   formats that are explicitly mentioned in the header, even when they are lower quality than */*

(RB=128653)
ActionResponseDecoder.getEntity() will return Void.class if its fieldDef is
null, to preserve compatibility from before the Action response changes.

(RB=128251)
Add javadoc to rest.li docgen and include restspec.json files as resource in rest.li server jars.

1.7.8
-----
(RB=119453)
Add default value handling for query parameter in complex type, including all DataTemplate subclasses, array of simple types and complex types.
Union can be used as query parameter type.

(RB=127439)
Fix NPE resulting from calling .getEntityClass() on an ActionResponseDecoder for a void-returning Action.

1.7.7
-----
(RB=123370)
Add TextDataCodec to support serializing and deserializing to String, Writer and Reader.
Move getStringEncoding() from DataCodec to TextDataCodec interface. This is potentially
a backwards incompatible change.

Replace use of ByteArrayInputStream(string.getBytes(Data.UTF_8_CHARSET)) with new JacksonDataCodec
and SchemaParser APIs that take String as input.

1.7.6
-----
(RB=122933)
If union is named because it is typeref'ed, the typeref schema was
originally not available through the generated code. This change
add a new HasTyperefInfo interface. If the union is named through
through typeref, the generated subclass of UnionTemplate will also
implement this interface. This interface provides the TyperefInfo
of the typeref that names the union.

(RB=121895)
Fix encoding bug in QueryTunnel Util.
Make ByteString.toString() to return a summary instead of the whole
array as an Avro string.
HttpBridge for RPC requests should not log the whole entity.
Remove Entity body from Request/Response toString().

(RB=122813)
restli-docgen displays all nested subresources and related models in the JSON format.

1.7.5
-----
(RB=122512)
Move PsonDataCodec from test to main source dir.

1.7.4
-----
(RB=122372)
RequestContext should not be shared across requests in ParSeqRestClient

1.7.3
-----
(RB=122016)
Add support for Avro 1.6. To use Avro 1.6, depend on data-avro_1_6.
Also fix getBytes() to explicitly specify UTF-8. This has no impact
on platforms whose default encoding is UTF-8.

(RB=121948)
Add DataList serialization and deserialization to JacksonDataCodec.

1.7.2
-----
(RB=120743)
Infer order of include and fields properties of record if location information is not available.

Change generated and up-to-date log messages to info. This was useful initially for debugging. Since
it has not been a problem, changing to info will reduce build output noise from generator.

(RB=120925)
Add requisite maven configuration and pom generation to root build.gradle to enable releasing pegasus
to maven central.

(RB=120249)
Copy 'pegasus' gradle plugin into pegasus codebase from RUM, so 3rd party developers have access to
the build tools required for a working development flow.  Also add maven central and maven local as repos
so developers can publish pegasus artifacts to their local repo and build standalone apps based on those
artifacts (this part will not be needed after we push pegasus artifacts to the maven central repo but
helps in the short term).

(RB=119121)
Fixed an issue where Actions that declare their return types as primitives (return int instead of
Integer, for example) no longer fail while trying to coercer the response into the correct type.

1.7.1
-----
Bad build, not published

1.7.0
-----
(RB=116297)
Add Schema compatibility checker. See com.linkedin.data.schema.compatibility.CompatibilityChecker and
CompatibilityOptions for details.

There is a change in MessageList class to take a type parameter. This is binary compatible but may
result in unchecked compilation warning/errors (depending on compiler setting.) Impact should be
minimum since this class is mostly for use within pegasus. However, it leaked by data-transform
package by DataProcessingException. This has been fixed to use List<Message> instead of MessageList.

(RB=118831)
In idl compatibility checker, allow parameter optional to be upgraded to default, and allow default to be downgraded to optional.

(RB=119617)
Add PageIncrement.FIXED to better support post-filtered search result paging.

1.6.14
-----
(RB=118380)
Add handling of long queries via X-HTTP-Method-Override

(RB=118576)
In idl compatibility checker, allow finder AssocKey to be upgraded to AssocKeys, but disallow the opposite direction.

1.6.12
-----
(RB=118288)
Fix bug in Avro generator in which referenced schema is not generated even
if schema file or name is explicitly mentioned as input args to avro schema
generator.

(RB=117895)
Fix bug in Avro schema and data translator that occurs when optional typeref
of union present. Significantly improve test coverage for typeref for avro
data and schema translation.

(RB=118838)
Add Request.getResourcePath() to provide access to the resource path parts that uniquely identify what resource the request is for.

(RB=118345)
Fix a bug where @AssocKeys of CustomTypes would cause IDL generation to crash.
Added test cases for @AssocKeys of CustomTypes.

1.6.11
------
(RB=115603)
Fix a bug in DegraderLoadBalancerStrategyV2 and DegraderLoadBalancerStrategyV3 that will not recover if we reach complete degraded state

(RB=117601)
Changed RestSpecAnnotation.skipDefault default from false to true.

(RB=116643)
All sub-level idl custom annotations are always included in class level.

1.6.10
------
(RB=116608)
Preserve PropertyEventBusImpl constructor backward compatibility

1.6.9
-----
(RB=111712)
Split original Restli example server/client into two versions: Basic and D2. The Basic version does not contain any D2 features.
Improve the D2 version of server and client to fully utilize D2.
Add gradle tasks to start all the variants of servers and clients.
Add gradle task to write D2-related configuration to ZooKeeper.

(RB=111517)
Restore method signatures changed in 1.6.7 to preserve backward compatibility

1.6.8
-----
Revert "Don't log entity body in Rest{Request,Response}Impl.toString(), since it's likely to log sensitive data."

1.6.7
-----
(RB=111517)
Fix a bug in batching multiple get requests into one, and refactor query parameters handling in
Request and RequestBuilder hierarchy.

(RB=108674)
Custom Types will now work as keys.
Keys keep track of their own schemas.
Reference types for keys are annotated in the class level annotation, as a new parameter in
RestLiCollection as keyTyperefClass, or as part of the @Key annotation for associations.

(RB=TBD)
Added docgen to restli-server-standalone config.

(RB=101117)
Custom Types will now work with action parameters.
FieldDefs/Params now keep track of their own schemas.
Action parameter metadata is now calculated in a static block in generated builder code --
no longer generated on the fly at call-time.
Action response metadata is now also calculated in a static block or in the AnnotationReader,
rather than on the fly at call-time.

Fixed a typeref bug that would cause non-custom type typerefs to appear in builders as their
reference types rather than their underlying types.

1.6.6
-----
(RB=112754)
Fix SI-515.  Escape '.'s in keys from QueryParamDataMap so AnyRecords can be encoded as query params.

(RB=106343)
Fix url escaping of string when used as keys in rest.li. (SI-495)

1.6.5
-----
(RB=109987)
Rename startServer task in restli-example-server to startExampleServer.
Rename RestLiExamplesServer in restli-int-test-server to RestLiIntTestServer.
The old startServer task is still used to start the current restli-int-test-server.

(RB=110881)
Change idl custom annotation default value of skipDefault to false.

1.6.4
-----
(RB=103770)
Allow custom annotations in resource classes to be passed to generated .restspec.json files.

(RB=99932)
Add D2ClientBuilder class, which conveniently generates D2Client with basic ZooKeeper setup.

1.6.3
-----
(RB=107630)
pass requestContext up to restli layer.

1.6.2
-----
(RB=103500)
Move non-LI-specific part of photo server example into pegasus.

1.6.1
-----
(RB=105748)
Integrate compatibility level into idl checker. The exit code of the main function now depends on both
the check result and the level.

(RB=106155)
Fix incorrect handling of absent optional complex query parameters.

1.6.0
-----
(RB=101499)
Add "validatorPriority" to enable validator execution order to be specified.
See details in DataSchemaAnnotationValidator class.

 * <b>Validator Execution Order</b>
 * <p>
 *
 * Execution ordering of multiple validators specified within the same "validate"
 * property is determined by the "validatorPriority" property of each validator.
 *
 * <code>
 *   "validate" : {
 *     "higherPriorityValidator" : {
 *       "validatorPriority" : 1
 *     },
 *     "defaultPriorityValidator" : {
 *     },
 *     "lowerPriorityValidator" : {
 *       "validatorPriority" : -1
 *     }
 *   }
 * </code>
 * <p>
 *
 * The higher the priority value, the higher the priority of the validator, i.e.
 * a validator with higher prority value will be executed before the validators
 * with lower priority values. The default priority value for a validator that
 * does not specify a priority value is 0. Execution order of validators with
 * the same priority value is not defined or specified.
 * <p>
 *
 * Validators may be attached to a field as well as the type of the field.
 * This class will always execute the validators associated to the type of the field
 * before it will execute the validators associated with the field.
 * <p>
 *
 * If schema of a data element is a typeref, then the validator associated with
 * the typeref is executed after the validator of the referenced type.
 * <p>
 *
 * Beyond the above execution ordering guarantees provided by this class,
 * the execution order of validators among different data elements is determined
 * by the traversal order of the caller (i.e. how data elements passed to the
 * {@link #validate(ValidatorContext)} method of this class. Typically, the caller will be
 * {@link com.linkedin.data.schema.validation.ValidateDataAgainstSchema}
 * and this caller performs a post-order traversal of data elements.

There is an incompatible semantic change. Previously the outer typeref validators
are executed before the inner typeref validators.

(RB=104954)
Fix bug to not throw NPE when include schema is not valid.
When RuntimeException is thrown by code generator, make sure that accummulated
parser messages are emitted through a RuntimeException to help diagnose the
cause of the RuntimeException.

1.5.12
------
(RB=104243)
Fix StackOverflowError when generating mock data for schema that recursively references itself.

(RB=104714)
Move SSL configuration to from HttpClientFactory down to TransportClientFactory.

1.5.11
-----
(RB=103288)
Fix NullPointerException in testcase's shutdown method.

1.5.10
-----
(RB=99688)
Fix bug with double-encoding spaces in query parameters.

1.5.9
-----
(RB=97871)
retry d2-config-cmdline on connectionLossException

1.5.8
-----
(RB=96060)
Add doc and Javadoc of source resource class name to generated idl and client builder.

(RB=96333)
Allow http status code be specified in GET methods and Action methods. For GET, define custom GET method (by annotating
with @RestMethod.Get) with return type GetResult<V>. For Action, define the action method with return type
ActionResult<V>.

1.5.7
-----
(RB=96131)
Fix NPE in RestRequestBuilderGenerator when processing legacy IDL format.

1.5.6
-----
(RB=95037)
Generated rest client builders now contain Javadoc extracted from .restspec.json files.
Such document originally comes from the Javadoc of corresponding resource classes.

1.5.5
-----
(RB=94738)
Add consistency check between SSLContext and SSLParameters arguments
of HttpNettyClient constructor.

(RB=95371)
Deprecate RestLiConfig.setClassLoader().  RestLi now loads resource
classes using the current thread's contextClassLoader.

1.5.4
-----
(RB=93597)
Enhance JSR330Adapter to support injection via constructor arguments,
allowing a safer coding practice of declaring final member variables
in rest.li resources.

(RB=92918)
RestLiResourceModelExporter now returns a GeneratorResult of files modified/created so it is more consistent with the
other generator classes.

1.5.3
-----
(RB=93836)
Detect class name conflicts that occur when a generated class name
is the same as the class name for a NamedDataSchema.
Also clean up DataTemplateGenerator code.
Array items and map values of generated classes is always the
the first schema with custom Java binding or the fully
dereferenced schema if there is no custom Java binding.

1.5.2
-----
(RB=92697)
Add SSL support to R2 http client.

1.5.1
-----
(RB=93099)
Remove cow.

1.5.0
-----
(RB=93107)
Fix bug of JMX bean

(RB=93024)
Follow on change to remove old Rpc code in data.

(RB=93011)
Fix javadoc, imports, syntactical changes in data.

(RB=92227)
Remove support for RpcEndpointGenerator and ExceptionTemplates - this functionality has been
deprecated and is currently unused.

(RB=92505)
Fix bug that restli-docgen fail to initialize when a resource has 2 or more subresources.
This is because the hierarchy stack is not popped after visiting a resource.

Display the full name (namespace + resource name) of resources and subresource in HTML.
If the resource does not have namespace, only display resource name.

1.4.1
-----
(RB=92103)
Allow directory command line arg for rest client builder generator.
The reason for this change is that network build is invoking the generator
for each file because there is no clean and safe way to pass a list of
file names in the java ant task.

After this change, network build can pass the directory as a single argument and
the generator will scan for restspec.json files in the directory.

1.4.0
-----
(RB=79135)
Add parttioning support to d2.
Support range-based and hash-based partitioning.
Update scatter/gather API and add "send to all partitions" API in restli/extras.

(RB=91895)
Allow directory command line arg for data template and avro schema translator.
The reason for this change is that network build is invoking the generator
for each file because there is no clean and safe way to pass a list of
file names in the java ant task.

After this change, network build can pass the directory as a single argument and
the generator will scan for pdsc files in the directory.

(RB=91765)
Fix intermittent TestAbstractGenerator failures.

1.3.5
-----
(RB=90955)
Fix issue with erroneously decoding query parameters, causing issues when a query parameter value contains "*".  This issue was introduced in 1.3.2

1.3.4
-----
(RB=88872)
Revise the documentation generator for idl files in RestLiResourceModelExporter to handle overloaded methods
in resources.

(RB=90000)
restli-docgen depends on Apache Velocity 1.5-LIN0 instead of previously 1.7. This change is necessary to
fix the trunk blocker ANE-6970.

(RB=90280)
Add main function to RestLiResourceModelCompatibilityChecker so that it can be invoked in command line.
The usage pattern is:
RestLiResourceModelCompatibilityChecker [prevRestspecPath:currRestspecPath pairs]

1.3.3
-----
(RB=88405)
Refactor tests and add AvroUtil class to data-avro to allow common models test
to not depend on test artifacts from pegasus.

(RB=88304)
Add access to client factories from D2 Facilities interface.

1.3.2
-----
(RB=87108)
Enhance validator API to enable AnyRecord validator to be implemented.
See AnyRecordValidator example and test cases in data.

(RB=83380)
Add support for structured query parameters on CRUD methods.

(RB=86674)
Remove c3po support

(RB=86313)
Modify IDL generation to only emit shallow references to named schema types.

1.3.1
-----
(RB=86000)
Allow "registration" of custom validators be more automatic (without having to explicitly
add to map and passing the map to DataSchemaAnnotationValidator.

 * The value of this property must be a {@link DataMap}. Each entry in this {@link DataMap}
 * declares a {@link Validator} that has to be created. The key of the entry determines
 * {@link Validator} subclass to instantiate.
 *  <p>
 *
 * The key to {@link Validator} class lookup algorithm first looks up the key-to-class
 * map provided to the constructor to obtain the {@link Validator} subclass. If the key
 * does not exist in the map, then look for a class whose name is equal to the
 * provided key and is a subclass of {@link Validator}. If there is no match,
 * then look for a class whose fully qualified name is derived from the provided by key
 * by using "com.linkedin.data.schema.validator" as the Java package name and capitalizing
 * the first character of the key and appending "Validator" to the key as the name
 * of the class, and the class is a subclass of {@link Validator}.

(RB=79648)
New on-line documentation generator for Rest.li server.
When passing an implementation of com.linkedin.restli.server.RestLiDocumentationRequestHandler to
RestLiServer through RestLiConfig, the server will respond to special URLs with documentation content
such as HTML page or JSON object.
The default implementation is from the new docgen project, which renders both HTML and JSON documentation.
It also provides an OPTIONS http method alias to the JSON documentation content.

1.3.0
-----
(RB=85284)
Moved jetty dependents in r2, restli-server to new sub-projects r2-jetty, restli-server-standalone

1.2.5
-----
(RB=84826)
To make sure custom Java class bound via typeref are initialized that their static initializers are
executed to register coercers, the code generator will generate a call Custom.initializeCustomClass
for each custom class referenced by a type.

For generality, this Custom.initializeCustomClass is called regardless of whether the coercer class
is also explicitly specified.

The way in which explicit coercer class initialization is performed has also changed to use
Class.forName(String className, boolean initializer, ClassLoader classLoader) with the initialize
flag set to true. This will cause the class to initialized without accessing the REGISTER_COERCER
static variable or trying to construct an instance of the coercer class. This allows the use of
static initializer block to initialize explicitly specified coercer class.

This change is not backwards compatible if the Coercer depends on constructing a new instance
to register the coercer.

(RB=84726)
Add more test code for AvroOverrideFactory. Fixed a few bugs, i.e when schema/name and translator/class is not
specified, name is specified without namespace.

(RB=84335)
Add support for custom data translator for translating from Avro to Pegasus data representation when there
is a custom Avro schema binding.

 * A custom Avro schema is provided via as follows:
 * <pre>
 *   {
 *     "type" : "record",
 *     "name" : "AnyRecord",
 *     "fields" : [ ... ],
 *     ...
 *     "avro" : {
 *       "schema" : {
 *         "type" : "record",
 *         "name" : "AnyRecord",
 *         "fields" : [
 *           {
 *             "name" : "type",
 *             "type" : "string"
 *           },
 *           {
 *             "name" : "value",
 *             "type" : "string"
 *           }
 *         ]
 *       },
 *       "translator" : {
 *         "class" : "com.foo.bar.AnyRecordTranslator"
 *       }
 *     }
 *   }
 * </pre>
 *
 * If the "avro" property is present, it provides overrides that
 * override the default schema and data translation. The "schema"
 * property provides the override Avro schema. The "translator"
 * property provides the class for that will be used to translate
 * from the to and from Pegasus and Avro data representations.
 * Both of these properties are required if either is present.
 *
 * If an override Avro schema is specified, the schema translation
 * inlines the value of the "schema" property into the translated
 * Avro schema.
 *
 * If a translator class is specified, the data translator will
 * construct an instance of this class and invoke this instance
 * to translate the data between Pegasus and Avro representations.

(RB=80898)
Allow query parameters to be custom types (SI-318)

Example customType annotation:
   * @QueryParam(value="o", typeref=CustomObjectRef.class) CustomObject o
where CustomObjectRef is an class generated off of a pdsc that specifies the underlying type of
CustomObject.

Users must also write and register a coercer that converts from the custom object to the
underlying type and back.


1.2.4
-----
(RB=82484)
Add support for custom Avro schema binding to Pegasus to Avro Schema translator.

   * A custom Avro schema is provided via as follows:
   * <pre>
   *   {
   *     "type" : "record",
   *     "name" : "AnyRecord",
   *     "fields" : [ ... ],
   *     ...
   *     "avro" : {
   *       "schema" : {
   *       "type" : "record",
   *       "name" : "AnyRecord",
   *       "fields" : [
   *         {
   *           "name" : "type",
   *           "type" : "string"
   *         },
   *         {
   *           "name" : "value",
   *           "type" : "string"
   *         }
   *       ]
   *     }
   *   }
   * </pre>
   *
   * If the "avro" property has a "schema" property, the value of this
   * property provides the translated Avro schema for this type. No further
   * translation or processing is performed. It simply inlines the value
   * of this property into the translated Avro schema.

(RB=82990)
Support a custom ClassLoader in the RestliConfig to use when scanning/loading RestLi classes.

(RB=83273)
Bump ParSeq to 0.4.4

1.2.3
-----
(RB=82646)
Revert incompatible change to bytecode signatures of builder methods introduced in 1.1.7

(RB=81647)
Fix bug of idl compatibility checker which did not check for new optional parameters and
  custom CRUD methods.
The report messages are revised and parameterized to be more readable.

1.2.2
-----
(RB=81960)
Prototype custom class for records (not for production use yet.)

Enable auto-registration of coercer when it is not possible to use
a static initializer on the custom class to register. Here is the
comments from com.linkedin.data.template.Custom.

  /**
   * Initialize coercer class.
   *
   * The preferred pattern is that custom class will register a coercer
   * through its static initializer. However, it is not always possible to
   * extend the custom class to add a static initializer.
   *
   * In this situation, an optional coercer class can also be specified
   * with the custom class binding declaration in the schema.
   *
   * <pre>
   * {
   *   "java" : {
   *     "class" : "java.net.URI",
   *     "coercerClass" : "com.linkedin.common.URICoercer"
   *   }
   * }
   * </pre>
   *
   * When another type refers to this type, the generated class for referrer
   * class will invoke this method on the coercer class within the referrer
   * class's static initializer.
   *
   * This method will reflect on the coercer class. It will attempt to read
   * the {@code REGISTER_COERCER} static field of the class if this field is declared
   * in the class. This static field may be private.
   * If such a field is not found or cannot be read, this method will attempt
   * to construct a new instance of the coercer class with the default constructor
   * of the coercer class. Either of these actions should cause the static initializer
   * of the coercer class to be invoked. The static initializer
   * is expected to register the coercer using {@link #registerCoercer}.
   * If both of these actions fail, then this method throws an {@link IllegalArgumentException}.
   *
   * Note: Simply referencing to the coercer class using a static variable or
   * getting the class of the coercer class does not cause the static
   * initializer of the coercer class to be invoked. Hence, there is a need
   * actually access a field or invoke a method to cause the static initializer
   * to be invoked.
   *
   * The preferred implementation pattern for coercer class is as follows:
   *
   * <pre>
   * public class UriCoercer implements DirectCoercer<URI>
   * {
   *   static
   *   {
   *     Custom.registerCoercer(URI.class, new UriCoercer());
   *   }
   *
   *   private static final Object REGISTER_COERCER = null;
   *   ...
   * }
   * </pre>
   */

(RB=80633)
Add more diagnostic details to idl compatibility report.

1.2.1
-----
(RB=81299)
2nd installment of imported util cleanup
Get rid of timespan dependency.
Fix indentation errors.
Remove used classes.

(RB=81019)
1st installment.  Remove unneeded code from imported util cases.
Fix problem with pegasus-common test directory is under src/main instead of src.
Remove LongStats. Make ImmutableLongStats the replacement.
Remove callsInLastSecond tracking (this is legacy that is not used and not needed in network.)
Remove unused methods in TrackerUtil.

(RB=80037)
Eliminate pegasus dependency on util-core, in preparation for open sourcing.  This change
copies a number of classes from util-core related to Clock, CallTracker, and Stats.  These
classes have been placed in different packages, and are considered forked.  The only functional
change is that CallTracker no-longer ignores BusinessException when counting errors.

1.2.0
-----
(RB=76684)
Experimental ParSeq client/server support

1.1.8
-----
(RB=80013)
Fix bug where EnumDataSchema.index() always returned 0 when a symbol is found

(RB=73477)
Add support for inspecting and modifying Data objects returned from DataIterators.
Data objects can be counted, accumulated, transformed and removed declaratively
based on value, schema properties or path in the Data object.  The intent is to
provide a core set of primitives that may be used to build decoration, filtering,
mapping, etc. for Data objects.

See: com.linkedin.data.it.{Builder, Remover, Counter, ValueAccumulator, Transformer}

1.1.7
-----
(RB=77548)
Build "next" pagination link in collection result when start+count < total (iff total is provided by application code).

(RB=78265, 78300)
Moved spring integration from restli-contrib-spring to the pegasus-restli-spring-bridge sub-project in container.
General dependency injection functionality (JSR-330) has been moved to restli-server sub-project. Empty restli-contrib-spring
project is not removed from Pegasus, to preserve backwards compatibility with integration tests. All dependencies on
restli-contrib-spring should be removed.

1.1.6
-----
(RB=74812)
Add RetryZooKeeper that handles ZooKeeper connection loss exception.

1.1.5
-----
(RB=76630)
Added multiple tests for complex resource keys, fixed a number of bugs in client builders.

(RB=78028)
Add getFacilities() to DynamicClient, in order to provide single point of entry for D2.

1.1.4
-----
(RB=74709)
Usability fixes to RestLiResponseException - use GetMode.NULL for accessors, add hasXyz() methods.

(RB=73936)
Clean up Exception handling in RestClient.  Previously, one could receive different exception
types for the same error in the Callback interface versus the two flavors of Future interface.

For example, if the server returned a valid error response, the caller of
ResponseFuture.getResponse() would receive a RestLiResponseException, but Callback.onError()
or the caller of Future.get() would receive a RestException.

Now, a RestLiResponseException is always generated when a valid error response is received from
the server.  Users of the Callback interface will receive a RestLiResponseException in
Callback.onError().  The ResponseFuture interface will throw a RestLiResponseException,
while the standard Future interface will throw a RestLiResponseException wrapped in an
ExecutionException.

(RB=73689)
Remove dependency on ASM and Jersey package scanning logic.  Our ASM version is fairly
old, and presents a compatibility challenge, especially for open source usage.

This patch removes the relevant Jersey code and implements very simple package scanning
by loading the classes in the specified packages.  In theory this could waste more
resources by loading classes unnecessarily.  In practice, we expect the rest.li resource
packages to be fairly narrowly specified, so it should not be a significant issue.

(RB=73067)
Improve exception message when there are Avro to Pegasus data translation errors.
This changes what DataTranslationException includes in getMessage().

(RB=72875)
Add Data to Avro Schema translation mode called OptionalDefaultMode. This mode allows
the user to control how optional fields with default value is translated. The previous
behavior is to translate the default value. This new option allows all optional fields
to be translated to have default value of null (instead of the translated default value.)

This is appropriate for Avro because the default value is only used if it is present
in the reader schema and absent in the writer schema. By translating default value to
null, the absent field will have null as its value (which is a better indication of
absence and would translate more cleanly to Pegasus as an absent field). I think this
is more correct, then filling in with the translated default value for an absent field.

In addition, this also improves the Pegasus user experience. If the user did not specify
a default value for field, this is translated to a union with null and default value set to
null. Because of Avro limitation, it means that other uses of this record cannot initialize
this field to another default value. This should be allowed because specific use case
may indeed have valid default values for that specific use of the record.

Although the new mode has been added, the default is to be backwards compatible and
translate the default value (instead of forcing the translation to null.) We may change
this to be the default in the future. However, this may break backwards compatibility of
generated schema in the case that the Avro default value is significant (i.e. fields
absent in writer schema but present in reader schema.)

1.1.2
-----
(RB=70773)
fix bug in degraderStrategyV2 where zookeeper updates would cause getTrackerClient to
return null for some calls because the existing state didn't have trackerclient information
and the threads weren't waiting for a good state.

1.1.1
-----
(RB=72064)
Fix bug in which "include" and "fields" are not processed in the same order in
which they are defined.

As part of this fix, the parser needs to have knowledge of the location of
a data object within the input stream. JacksonCodec has been extended to
provide this location. Because this location is now available, various parsers
have been improved emit error messages that include the likely location
of the error.

Remove noisy TestCloudPerformance output.

1.1.0
-----
(RB=69279)
An ability to define arbitrarily complex resource keys has been added. The resource
implementation has to extend ComplexKeyResource parameterized, in addition to the
value type, with key and params types, both extending RecordTemplate.  This feature is
currently considered experimental - future versions may be backwards incompatible.

1.0.5
-----
(RB=71138)
Add -Dgenerator.generate.imported switch to PegasusDataTemplateGenerator to allow
the suppression of code generation for imported schemas.

(RB=71319)
A ResourceConfigException will be thrown when an association resource has a single key.
The exception will be thrown during initialization.

1.0.4
-----

(RB=70743)
ValidationOption and schema validation and fixup behavior has been refined.

The fixup boolean in ValidationOption has been replaced with CoercionMode.
This flag used to indicate whether primitive type coercion should occur and whether
the input Data objects can be modified.

There is minor incompatible change to RequiredMode.FIXUP_ABSENT_WITH_DEFAULT.
The old behavior is that the fixup flag must be set to allow
RequiredMode.FIXUP_ABSENT_WITH_DEFAULT to modify the input.
The new behavior is that RequiredMode.FIXUP_ABSENT_WITH_DEFAULT
alone allows validation to modify the input Data object.

RequiredMode and CoercionMode are independent of each other.
RequiredMode specifies how required fields should be handled.
CoercionMode specifies how coercion of primitive types should performed.

For backwards compatibility, setFixup(true) sets coercion mode to CoercionMode.NORMAL,
and isFixup returns true if coercion mode is not CoercionMode.OFF or required mode
is RequiredMode.FIXUP_ABSENT_WITH_DEFAULT.

(RB=71088)
Change in Data.Traverse callbacks for startMap and startList to pass the DataMap
and DataList about to be traversed. This is a change to Data API. Code search
indicates there are no other users of Data.Traverse outside of the data module.

Add experimental PSON binary serialization format for more compact serialized
representation by remembering which map keys have already be seen and assigning
a numeric index to each new key seen. Subsequent occurrence of the same key
requires only serializing the numeric index of the key instead of the string
representation of the key.

The PsonCodec is currently in test directory because it is still experimental
for understanding data compression possible and processor overhead for looking
up keys before serialization and potential savings from binary representation.

1.0.3
-----
(RB=68998)
Add support for filtering DataSchema to remove unwanted fields or custom properties.

(RB=69111)
SI-297 Allow server application code to specify default count/start for PagingContext

(RB=64782)
SI-274 Restli sends error responses via callback.onError rather than callback.onSuccess

(RB=69527)
SI-346 Fix so that RoutingExceptions thrown prior to method invocation cause service code error 400.

(RB=68531)
Backwards incompatible function name change in RestLiResourceModelCompatibilityChecker,
which requires rum version 0.13.51. Incompatibility information are changed to three categories:
UnableToChecks, Incompatibles and Compatibles. Use corresponding getters to access.

1.0.2
-----
(RB=68386)
Fix JMX registering of tracker client.

1.0.1
-----
(RB=68540)
Do not normalize underscores in user-defined names.

1.0.0
-----
(RB=67642)
Final API cleanup:
  Move R2 callbacks into com.linkedin.common / pegasus-common
  Widen Callback.onError() signature to accept Throwable instead of Exception

0.22.3
------
(RB=67362)
Remove obsolete assembler code

(RB=66584)
Initial work on complex resource keys

(RB=67100)
Server-side support for query parameters on CRUD operations

(RB=68048,67900,67100)
Add support for custom query parameters on CRUD methods.

0.22.2
------
(RB=66419)
fix autometric/jmx support for DegraderLoadBalancer,State, and StrategyV2.

(RB=65165)
Allow standard CRUD methods to be implemented without needing to override CollectionResource / AssociationResource (by annotating with @RestMethod.Get, @RestMethod.Create, etc.).  This is a step toward allowing custom query parameters on CRUD methods.

0.22.1
------
(RB=66358)
Report warning when idl file not found for compatibility check.

0.22.0
------
(RB=56807)
Add rest.li support for BatchUpdate, BatchPartialUpdate, BatchCreate, and BatchDelete
    Refactor builders to dispatch based on ResourceMethod, rather than response object type
    Improve type handling in response builders
    Initial version of routing, request handling, and response building for all batch methods
    Refactor projection to each response builder
    Unify handling of action responses and resource responses
    Refactored response builders & MethodInvoker switch cases to MethodAdapters
    Support for batch CUD operations in dynamic builder layer
    Code-generation for batch builders
    Adopt KV as default for new batch methods
These changes are intended to be backwards compatible, and should not require changes in application code

0.21.2
------
(RB=65432) Separate jersey uri components from package scanning, and repackage jersey source under com.linkedin.jersey

(RB=65497) Fix D2 RewriteClient to respect percent-encoded query params.

0.21.1
------
No changes (accidental publish)

0.21.0
------
(RB=64609)
Add Java custom class binding support for primitive type.
You add a custom class binding by using a typeref with a "java" property.

The "java" property of the typeref declaration must be a map.
If this map has an "class" property, then the value of the "class"
property must be a string and this string provides the name of
the Java custom class for the typeref.

The generated code will now return and accept the Java custom class
as the return and argument type instead of the standard Java class
for the referenced type.

The custom class should meet the following requirements.

1. An instance of the custom class must be immutable.
2. A Coercer must be defined that can coerce the standard Java class
   of the type to the custom Java class of the type, in both the
   input and output directions. The coercer implements the
   DirectCoercer interface.
3. An instance of the coercer must be registered with the
   data template framework.

The following is an example illustrating Java custom class binding:

CustomPoint.pdsc:

{
  "type" : "typeref",
  "name" : "CustomPoint",
  "ref"  : "string",
  "java" : {
    "class" : "com.linkedin.data.template.TestCustom.CustomPoint"
  }
}

CustomPoint.java:

//
// The custom class
// It has to be immutable.
//
public class CustomPoint
{
  private int _x;
  private int _y;

  public CustomPoint(String s)
  {
    String parts[] = s.split(",");
    _x = Integer.parseInt(parts[0]);
    _y = Integer.parseInt(parts[1]);
  }

  public CustomPoint(int x, int y)
  {
    _x = x;
    _y = y;
  }

  public int getX()
  {
    return _x;
  }

  public int getY()
  {
    return _y;
  }

  public String toString()
  {
    return _x + "," + _y;
  }

  public boolean equals(Object o)
  {
    if (o == null)
      return false;
    if (this == o)
      return true;
    if (o.getClass() != getClass())
      return false;
    CustomPoint p = (CustomPoint) o;
    return (p._x == _x) && (p._y == _y);
  }

  //
  // The custom class's DirectCoercer.
  //
  public static class CustomPointCoercer implements DirectCoercer<CustomPoint>
  {
    @Override
    public Object coerceInput(CustomPoint object)
      throws ClassCastException
    {
      return object.toString();
    }

    @Override
    public CustomPoint coerceOutput(Object object)
      throws TemplateOutputCastException
    {
      if (object instanceof String == false)
      {
        throw new TemplateOutputCastException("Output " + object + " is not a string, and cannot be coerced to " + CustomPoint.class.getName());
      }
      return new CustomPoint((String) object);
    }
  }

  //
  // Automatically register Java custom class and its coercer.
  //
  static
  {
    Custom.registerCoercer(CustomPoint.class, new CustomPointCoercer());
  }
}

0.20.6
------
(RB=64647)
If a required field is missing, add Message for both the record and the missing field.
Modify test cases to test for paths reported as having failed.

(RB=64183)
Throw NPE more consistently when attempting to add null elements to array templates or
adding null values to map templates. Previously, NPE will be thrown but not as
consistently and may not indicate that the input argument cannot be null.

Previously, attempting to add null to DataMap and DataList results in IllegalArgumentException.
Now, this will throw NPE.

0.20.5
------
(RB=62385)
Fix Avro schema converter such that default values for Avro unions can translated correctly.
Prior to this fix, the default value for an Avro union is encoded like similar using the JSON
serialization of the default value. The Avro specification specifies that the default value
for an union does not include the type discriminator, and the type is provided by the 1st
member of the union.

When a Data Schema is translated to an Avro Schema, if the union has a default value,
the default value's type must be the 1st member type of the union. Otherwise, an
IllegalArgumentException will be thrown. When a value of an union type is translated,
its translated value will not include the type discriminator.

When an Avro Schema is translated to a Data Schema, if the Avro union has a value,
the parser and validation function obtains the type of the value from the 1st member type
of union. The translated default value will include a type discriminator if translated type
remains a union after translation. (The translated type will not be a union if
the Avro union is the type for a field of a record and this union type has two members
and one of them is null as the field will become an optional field whose type is
the non-null member type of the union.)

Avro schema parser does not validate default values are valid, i.e. it does not validate the
default value for each field with the schema for the field. Pegasus schema parser will
perform this validation.

(RB=62715)
Add support for BatchResponseKV in BatchGet, which provides correctly typed Map keys for getResults() and getError().
Convert clients to generate multi-valued params for batch requests, e.g., GET /resource?ids=1&ids=2.  Server-side support for this format has been in pegasus since 0.18.5, and has been deployed for all production use cases

0.20.4
------
(RB=61006)
Add include functionality to record, record can include fields from another record.
Include does not include or attempt to merge any other attributes from the included record,
including validate field (this is a TBD feature).

(RB=61411)
Fix bug handling default query parameter values for enum types.

(RB=58634)
Internal cleanup of JSON handling in RestLiResourceModelExporter/RestRequestBuilderGenerator

0.20.3
------
(RB=60050)
Re-enable action parameter validation, using fix-up mode to ensure that wire types are correctly coerced to schema types.

(RB=60193)
Make fixup the default enabled for ValidationOptions.

0.20.2
------
(RB=59945)
Disable Action parameter validation since it fails when the schema declares a type of long but the value on the wire is less than MAX_INT.

0.20.1
------
(RB=59681)
Reduce unintentional memory retention by R2 timeout mechanism.

0.20.0
------
Same as 0.19.7. Bumped minor version due to backward incompatibility

0.19.7
------
(RB=48204)
Implemented correct initialization of InjectResourceFactory. This is an incompatible change for users of InjectResourceFactory and container/pegasus-restli-server-cmpt. To fix, you need to define an InjectResourceFactory bean in the your application's spring context and wire it in to rest.li server e.g.

<bean id="resourceFactory" class="com.linkedin.restli.server.spring.InjectResourceFactory" />

0.19.6
------
(RB=59196)
Fix server-side detection of rest.li compound key syntax to use best-match heuristic

0.19.5
------
(RB=57847)
Add support for boxified and unboxified setter for primitive types

(RB=59188)
Add support for returning source files, target files, and modified files from data template
and rest client generators.

0.19.4
------
(RB=57839)
Cleanup build warnings

(RB=56392)
Add pdsc definition for IDL (restspec.json) files in restli-common.
Add IDL compatibility checker and its test suites.

(RB=56305)
SI-260 properly handle RestLiServiceException returned from action invocation
validate action parameters against schema to detect type mismatches

(RB=58323)
fix quick deploy bug when no uris are registered in zk

(RB=58625)
Inject dependencies into superclass fields when using @Inject/@Named

0.19.3
------
(RB=57723)
Make Continuation support configurable and off by default.

(RB=57724)
Fix NullPointerException errors when referenced types in typeref, map, record fields are incomplete
or not resolvable.

(RB=57529)
Fix bug causing Server Timeout when application code returns null object - should be 404

0.19.2
------
(RB=54399)
Remove deprecated "Application" object dependency injection through BaseResource.
(RB=55085)
Remove rpc-demo-*
(RB=56165)
Pass undecoded path segments to parsers to enable proper context-aware percent-decoding.

0.19.1
------
Fix bugs in code generation for @RestLiActions (actions set) resources

-----
(RB=54529)

Add fix bugs in Data Schema to Avro Schema translation
1. Fix exception thrown when translating default values of map types.
2. Fix exception thrown when translating typeref'ed optional union.
3. Translating data schema to avro schema should not mutate input data schema.

0.19.0
------
Enhanced exception support:
  Server-side application code may throw RestLiServiceException, which prompts the framework to send an ErrorResponse document to the client
  Client-side application code may catch RestLiResponseException, which provides access to the ErrorResponse contents.

Backwards-incompatible API changes:
  BusinessException has been replaced by RestLiServiceException
  ResponseFuture.getResponse() now throws RemoteInvocationException instead of RestException

0.18.7
------
Allow PagingContext to appear at any position in a Finder signature, or to be omitted entirely

DataTemplate: generate .fields() accessor methods for primitive branches of unions

0.18.6
------
(RB=52064)
Add SetMode to Record setters.

  /**
   * If the provided value is null, then do nothing.
   * <p>
   *
   * If the provided value is null, then do nothing,
   * i.e. the value of the field is not changed.
   * The field may or may be present.
   */
  IGNORE_NULL,
  /**
   * If the provided value is null, then remove the field.
   * <p>
   *
   * If the provided value is null, then remove the field.
   * This occurs regardless of whether the field is optional.
   */
  REMOVE_IF_NULL,
  /**
   * If the provided value is null and the field is
   * an optional field, then remove the field.
   * <p>
   *
   * If the provided value is null and the field is
   * an optional field, then remove the field.
   * If the provided value is null and the field is
   * a mandatory field, then throw
   * {@link IllegalArgumentException}.
   */
  REMOVE_OPTIONAL_IF_NULL,
  /**
   * The provided value cannot be null.
   * <p>
   *
   * If the provided value is null, then throw {@link NullPointerException}.
   */
  DISALLOW_NULL

0.18.5
------
(RB=51189)
(1) added support for array parameters in finders.
    url notation is ...?foo=foo1&foo=foo2&foo=foo3&...
(2) ids parameter notation changed from ids=1,2,3 to ids=1&ids=2&ids3 for better compatibility
    with standard on query part of urls, client libraries, and (1).
(3) string representation of compound keys changed back to foo=foo1&bar=bar1
    (from foo:foo1;bar:bar1) for better compatibility with (1) and (2).
(4) batch request builder will use legacy comma encoding

The new server will support both new and old URL formats.
Existing batch request client builders will emit old URL format.
The URLs emitted by batch request client builders generated from this release will use the old format.

The upgrade sequence will be
    - first update all servers to this version,
    - then release new batch client and update all clients.

------
(RB=51536)
Fix bug due to not recursively translating default values when translating
schemas between Avro and Pegasus.
Fix bug due to different handling of member keys in union between Avro
and Pegasus when translating schemas.

0.18.4
------
(RB=49976)
Add rest.li server-side support for application-defined response headers

0.18.3
------
(RB=49668)
Bump RUM version to 0.13.18 to fix eclipse compatibility problem

0.18.2
-----
(RB=50209)
Change default namespace for restli-server-examples to be backwards compatible.
Change check for TimeoutException in netty client shutdown test
Use 0.13.12 of rum plugin

0.18.1
------
(RB=49106)
Add support in D2 for direct local routing, as well as fix handling of
the root path in ZooKeeperStore.

0.18.0
------
(RB=47488)
Add support of bulk requests for association resources

------
(RB=49668)

Change build to use pegasus v2 rum plugin
Require use of rum 0.13.11

/**
 * Pegasus code generation plugin.
 * <p>
 * Performs the following functions:
 * <p>
 * <b>Generate data model and data template jars for each source set.</b>
 * <p>
 * Generates data template source (.java) files from data schema (.pdsc) files,
 * compiles the data template source (.java) files into class (.class) files,
 * creates a data model jar file and a data template jar file.
 * The data model jar file contains the source data schema (.pdsc) files.
 * The data template jar file contains both the source data schema (.pdsc) files
 * and the generated data template class (.class) files.
 * <p>
 * In the data template generation phase, the plugin creates a new target source set
 * for the generated files. The new target source set's name is the input source set name's
 * suffixed with "GeneratedDataTemplate", e.g. "mainGeneratedDataTemplate".
 * The plugin invokes PegasusDataTemplateGenerator to generate data template source (.java) files
 * for all data schema (.pdsc) files present in the input source set's pegasus
 * directory, e.g. "src/main/pegasus". The generated data template source (.java) files
 * will be in the new target source set's java source directory, e.g.
 * "src/mainGeneratedDataTemplate/java". The dataTemplateGenerator configuration
 * specifies the classpath for loading PegasusDataTemplateGenerator. In addition to
 * the data schema (.pdsc) files in the pegasus directory, the dataModel configuration
 * specifies resolver path for the PegasusDataTemplateGenerator. The resolver path
 * provides the data schemas and previously generated data template classes that
 * may be referenced by the input source set's data schemas. In most cases, the dataModel
 * configuration should contain data template jars.
 * <p>
 * The next phase is the data template compilation phase, the plugin compiles the generated
 * data template source (.java) files into class files. The dataTemplateCompile configuration
 * specifies the pegasus jars needed to compile these classes. The compileClasspath of the
 * target source set is a composite of the dataModel configuration which includes the data template
 * classes that were previously generated and included in the dependent data template jars,
 * and the dataTemplateCompile configuration.
 * This configuration should specify a dependency on the Pegasus data jar.
 * <p>
 * The following phase is creating the the data model jar and the data template jar.
 * This plugin creates the data model jar that includes the contents of the
 * input source set's pegasus directory, and sets the jar file's classification to
 * "data-model". Hence, the resulting jar file's name should end with "-data-model.jar".
 * It adds the data model jar as an artifact to the dataModel configuration.
 * This jar file should only contain data schema (.pdsc) files.
 * <p>
 * This plugin also create the data template jar that includes the contents of the input
 * source set's pegasus directory and the java class output directory of the
 * target source set. It sets the jar file's classification to "data-template".
 * Hence, the resulting jar file's name should end with "-data-template.jar".
 * It adds the data template jar file as an artifact to the dataTemplate configuration.
 * This jar file contains both data schema (.pdsc) files and generated data template
 * class (.class) files.
 * <p>
 * This plugin will ensure that data template source files are generated before
 * compiling the input source set and before the idea and eclipse tasks. It
 * also adds the generated classes to the compileClasspath of the input source set.
 * <p>
 * The configurations that apply to generating the data model and data template jars
 * are as follow:
 * <ul>
 * <li>
 *   The dataTemplateGenerator configuration specifies the classpath for
 *   PegasusDataTemplateGenerator. In most cases, it should be the Pegasus generator jar.
 * </li>
 * <li>
 *   The dataTemplateCompile configuration specifies the classpath for compiling
 *   the generated data template source (.java) files. In most cases,
 *   it should be the Pegasus data jar.
 *   (The default compile configuration is not used for compiling data templates because
 *   it is not desirable to include non data template dependencies in the data template jar.)
 *   The configuration should not directly include data template jars. Data template jars
 *   should be included in the dataModel configuration.
 * </li>
 * <li>
 *   The dataModel configuration provides the value of the "generator.resolver.path"
 *   system property that is passed to PegasusDataTemplateGenerator. In most cases,
 *   this configuration should contain only data template jars. The data template jars
 *   contain both data schema (.pdsc) files and generated data template (.class) files.
 *   PegasusDataTemplateGenerator will not generate data template (.java) files for
 *   classes that can be found in the resolver path. This avoids redundant generation
 *   of the same classes, and inclusion of these classes in multiple jars.
 *   The dataModel configuration is also used to publish the data model jar which
 *   contains only data schema (.pdsc) files.
 * </li>
 * <li>
 *   The testDataModel configuration is similar to the dataModel configuration
 *   except it is used when generating data templates from test source sets.
 *   It extends from the dataModel configuration. It is also used to publish
 *   the data model jar from test source sets.
 * </li>
 * <li>
 *   The dataTemplate configuration is used to publish the data template
 *   jar which contains both data schema (.pdsc) files and the data template class
 *   (.class) files generated from these data schema (.pdsc) files.
 * </li>
 * <li>
 *   The testDataTemplate configuration is similar to the dataTemplate configuration
 *   except it is used when oublishing the data template jar files generated from
 *   test source sets.
 * </li>
 * </ul>
 * <p>
 * <b>Generate rest model and rest client jars for each source set.</b>
 * <p>
 * Generates the idl (.restspec.json) files from the input source set's
 * output class files, generates rest client source (.java) files from
 * the idl, compiles the rest client source (.java) files to
 * rest client class (.class) files, and creates a rest model jar file
 * and a rest-client jar file.
 * The rest model jar file contains the generated idl (.restspec.json) files.
 * The rest client jar file contains both the generated idl (.restspec.json)
 * files and the generated rest client class (.class) files.
 * <p>
 * In the idl generation phase, the plugin creates a new target source set
 * for the generated files. The new target source set's name is the input source set name's
 * suffixed with "GeneratedRest", e.g. "mainGeneratedRest".
 * The plugin invokes RestLiResourceModelExporter to generate idl (.restspec.json) files
 * for each IdlItem in the input source set's pegasus IdlOptions.
 * The generated idl files will be in target source set's idl directory,
 * e.g."src/mainGeneratedRest/idl".
 * <p>
 * For example, the following adds an IdlItem to the source set's pegasus IdlOptions.
 * <pre>
 *   pegasus.main.idlOptions.addIdlItem("groups", ['com.linkedin.restli.examples.groups.server'])
 * </pre>
 * <p>
 * The next phase is to generate the rest client source (.java) files from the
 * generated idl (.restspec.json) files using RestRequestBuilderGenerator.
 * The generated rest client source (.java) files will be in the new target source set's
 * java source directory, e.g. "src/mainGeneratedRest/java". The restClientGenerator
 * configuration specifies the classpath for loading RestLiResourceModelExporter
 * and for loading RestRequestBuilderGenerator.
 * <p>
 * RestRequestBuilderGenerator requires access to the data schemas referenced
 * by the idl. The dataModel configuration specifies the resolver path needed
 * by RestRequestBuilderGenerator to access the data schemas referenced by
 * the idl that is not in the source set's pegasus directory.
 * This plugin automatically includes the data schema (.pdsc) files in the
 * source set's pegasus directory in the resolver path.
 * In most cases, the dataModel configuration should contain data template jars.
 * The data template jars contains both data schema (.pdsc) files and generated
 * data template class (.class) files. By specifying data template jars instead
 * of data model jars, redundant generation of data template classes is avoided
 * as classes that can be found in the resolver path are not generated.
 * <p>
 * The next phase is the rest client compilation phase, the plugin compiles the generated
 * rest client source (.java) files into class files. The restClientCompile configuration
 * specifies the pegasus jars needed to compile these classes. The compile classpath
 * is a composite of the dataModel configuration which includes the data template
 * classes that were previously generated and included in the dependent data template jars,
 * and the restClientCompile configuration.
 * This configuration should specify a dependency on the Pegasus restli-client jar.
 * <p>
 * The following phase is creating the the rest model jar and the rest client jar.
 * This plugin creates the rest model jar that includes the
 * generated idl (.restspec.json) files, and sets the jar file's classification to
 * "rest-model". Hence, the resulting jar file's name should end with "-rest-model.jar".
 * It adds the rest model jar as an artifact to the restModel configuration.
 * This jar file should only contain idl (.restspec.json) files.
 * <p>
 * This plugin also create the rest client jar that includes the
 *  generated idl (.restspec.json) files and the java class output directory of the
 * target source set. It sets the jar file's classification to "rest-client".
 * Hence, the resulting jar file's name should end with "-rest-client.jar".
 * It adds the rest client jar file as an artifact to the restClient configuration.
 * This jar file contains both idl (.restspec.json) files and generated rest client
 * class (.class) files.
 * <p>
 * This plugin will ensure that generating idl will occur after compiling the
 * input source set. It will also ensure that idea and eclipse tasks runs after
 * rest client source (.java) files are generated.
 * <p>
 * The configurations that apply to generating the rest model and rest client jars
 * are as follow:
 * <ul>
 * <li>
 *   The restClientGenerator configuration specifies the classpath for
 *   RestLiResourceModelExporter and RestRequestBuilderGenerator.
 *   In most cases, it should be the Pegasus restli-tools jar.
 * </li>
 * <li>
 *   The restClientCompile configuration specifies the classpath for compiling
 *   the generated rest client source (.java) files. In most cases,
 *   it should be the Pegasus restli-client jar.
 *   (The default compile configuration is not used for compiling rest client because
 *   it is not desirable to include non rest client dependencies, such as
 *   the rest server implementation classes, in the data template jar.)
 *   The configuration should not directly include data template jars. Data template jars
 *   should be included in the dataModel configuration.
 * </li>
 * <li>
 *   The dataModel configuration provides the value of the "generator.resolver.path"
 *   system property that is passed to RestRequestBuilderGenerator.
 *   This configuration should contain only data template jars. The data template jars
 *   contain both data schema (.pdsc) files and generated data template (.class) files.
 *   The RestRequestBuilderGenerator will only generate rest client classes.
 *   The dataModel configuration is also included in the compile classpath for the
 *   generated rest client source files. The dataModel configuration does not
 *   include generated data template classes, then the Java compiler may not able to
 *   find the data template classes referenced by the generated rest client.
 * </li>
 * <li>
 *   The testDataModel configuration is similar to the dataModel configuration
 *   except it is used when generating rest client source files from
 *   test source sets.
 * </li>
 * <li>
 *   The restModel configuration is used to publish the rest model jar
 *   which contains generated idl (.restspec.json) files.
 * </li>
 * <li>
 *   The testRestModel configuration is similar to the restModel configuration
 *   except it is used to publish rest model jar files generated from
 *   test source sets.
 * </li>
 * <li>
 *   The restClient configuration is used to publish the rest client jar
 *   which contains both generated idl (.restspec.json) files and
 *   the rest client class (.class) files generated from from these
 *   idl (.restspec.json) files.
 * </li>
 * <li>
 *   The testRestClient configuration is similar to the restClient configuration
 *   except it is used to publish rest client jar files generated from
 *   test source sets.
 * </li>
 * </ul>
 *
 * <p>
 * This plugin considers test source sets whose names begin with 'test' to be
 * test source sets.
 *
 */

0.17.6
------
(RB=49060)
Add option to disable record template generation from RestRequestBuilderGenerator, to support ant codegen integration in network

0.17.5
------
(RB=49324)
Refactor SimpleLoadBalancerState to use one TransportClient per
cluster and eliminate LazyClient.

(RB=49528)
Add "namespace" parameter to @RestLi* resource annotations, allowing the resource author to
specify the default namespace to be used for the IDL and client builders.

0.17.4
------
(RB=49133)

Fix key usage and delete handling in groups example in rest.li

------
(RB=48987)

Fix inconsistent parsing of paginationa parameters in rest.li.

------
(RB=49268)

Add another workaround for Jackson http://jira.codehaus.org/browse/JACKSON-491

------
(RB=49414)

Fix bugs in translation from Pegasus DataMap to Avro GenericRecord translations.
Add test cases for round-tripping through binary Avro serialization.
Map keys from Avro may be String or Utf8
Enum symbol is mapped to GenericData.EnumSymbol instead of String.
ByteBuffer not rewound after copy to ByteString.

0.17.3
------
(RB=48930)

Fix bug in DataTemplate wrapping of typeref'ed types

0.17.2
------
(RB=48666)

Code generator changes to avoid generating the same class multiple
times. If a class already exist in generator.resolver.path, then don't
generate the class again.

0.17.1
------
(RB=48198)

Generate typesafe pathkey-binding methods for actions in subresources

-----
(RB=48258)

Add AvroSchemaGenerator to output avsc files from pdsc files.
Avro avsc requires the type to be record. If a pdsc file or schema
is not a record, no avsc file will be emitted.

Refactor generator to move common schema resolution based on path,
testing for stale output files, ... can be reused by different
generators.

Simplify by consolidating DataSchemaContext and DataSchemaResolver,
eliminate duplicate tracking of names to schemas.

0.17.0
------
(RB=43660)

Revamp rest.li client library
   One Request/RequestBuilder pair per rest.li method.
   Generate builders for finder and action methods
   Generate xyzRequestBuilders "builder factory" classes for resources
   Generate builders for all resource methods, to allow type-safe specification of parent resource keys

0.16.5
------
(RB=47325)
Fix issue with field projections on CollectionResult (SI-198)

0.16.4
------
(RB=45316)

Update util to 4.0.1.
Merge DegraderImpl changes from container to Pegasus.

0.16.3
------
(RB=46923)
Add configurable maxResponseSize to NttpNettyClient/HttpClientFactory

0.16.2
------
(RB=45441)

Workaround fix for JACKSON-230 (http://jira.codehaus.org/browse/JACKSON-230)

-----
(RB=45505)

Add auto-detection of whether JACKSON-230 bug is present.
Upgrade Jackson library to 1.4.2.
Auto-detection added to handle Jackson library version override in consumers.

0.16.1
------
Merge 0.15.2 through 0.15.4

0.16
----

Refactor the relationship between HttpNettyClient and
HttpClientFactory.  HttpClientFactory now owns the thread pool
resources, and all clients created by the factory will share the same
underlying executors.  This is an incompatible change, because the
HttpClientFactory must now be shut down.

Add support for an overall request timeout to HttpNettyClient.  If the
request does not complete for any reason within the timeout, the
callback's onError will be invoked.

Add support for graceful shutdown to HttpNettyClient and
HttpClientFactory.  The factories and the clients can be shutdown in
any relative order, and outstanding requests will be allowed to
complete within the shutdown timeout.

-----
(RB=45018)

Add SchemaTranslator class to translate from Avro Schema to Pegasus Data Schema
and vice-versa.

0.15.4
------
Add a dependency from data.jar to the new empty cow.jar

0.15.3
------
Add empty cow.jar to facilitate renaming cow.jar to data.jar

0.15.2
------
(RB=44099)

Internal changes to replace Stack with ArrayList or ArrayDeque.

0.15.1
------
(RB=43133)

Main API change is removal/decoupling of validation from DataSchema.
DataSchema no longer has validate method. The replacement is
ValidateDataAgainstSchema.validate(...).

Reduce memory allocation for DataElement for each object visited.
Will reuse same DataElement for each member of a container.
As part of this change, it is no longer possible to get a
standard Iterator from a builder. The alternative is to use the
traverse method that takes a callback for each object iterated.

Add support for different pre-order and post-order traversal
to ObjectIterator. This allows ObjectIterator to be used for
data to schema validation. This unification allows single pass
data to schema validation as well as calling Validator after
fixup and schema validation.

Enhance DataSchemaAnnotationValidator to not throw exception
on construction. Allow validator to be used if only some
validators are constructed. Use common Message classes for emitting
initialization messages.

Refactor code to allow both iterative and recursive validation.

Add more test cases.

-----
(RB=43604)

Add support to taking DataElement as starting point for
iterating through Data objects and for validation. This
has been requested by Identity superblock where the patch
is applied to position (using position as starting point), but
the root object is a profile. The validation should start
where the patch is applied, but the validator plugin wants
access to the entire entity, i.e. the profile entity.

Add tests and bug fix unnecessary additional calls to validators
from ValidateDataAgainstSchema when typerefs are in use. The
bug was that the downstream validator will be called once per
typeref in the typeref chain. The correct and fixed behavior
is that the downstream validator will be called once per
data object (not once per schema typeref'ed).

0.15
----

Add pluggable validator to Data Schemas (RB=41693)

1. Change behavior of ObjectIterator to include returning the
   input value.

2. See com.linkedin.data.validator package and TestValidator
   class for how to use validators.

3. This is still a prototype feature.

Output Avro-compliant equivalent JSON from Pegasus schema (RB=41878)

Add translation between Pegasus DataMap and Avro GenericRecord (RB=42130)

1. Also include refactoring of DataSchema to JSON encoding to
   move Avro specific code out of cow module into cow-avro module.

Rest.li support for full and partial updates
  Full update (overwrite) is transported as an HTTP PUT to the entity URI,
with a payload containing the JSON serialized RecordTemplate of the entity
schema.

  Partial update (patch) is transported as an HTTP POST to the entity URI,
with a payload containing a JSON serialized PatchRequest

The internal structure of a PatchRequest is documented here:
https://iwww.corp.linkedin.com/wiki/cf/display/ENGS/Partial+Update

PatchRequests can be generated on the client side by "diff'ing" two
RecordTemplate objects using PatchGenerator in com.linkedin.restli.client.utility.
Patch Generation relies on the facilities from the data-transform pegasus
component, in the com.linkedin.data.transform package.

PatchRequests can be applied on the server side by providing a pre-image
RecordTemplate object and a PatchRequest to PatchApplier in
com.linkedin.restli.server.util.  Patch application uses the DataMapProcessor
from the pegasus data-transform component.

Full and Partial update are provided as overloaded update() methods in
CollectionResource/AssociationResource on the server-side and as overloaded
buildUpdate() methods in EntityRequestBuilder on the client-side.

PARTIAL_UPDATE is defined as a new ResourceMethod, and listed as appropriate
in the IDL "supports" clause of the resource.

Support for deep (nested) projections has been implemented:
  Server-side, the rest.li framework understands both the old "field1,field2,field3"
syntax and the new PAL-style "field1,field2:(nestedfield)" syntax.  Projections
are applied automatically by the framework, using pegasus data-transform.
ResourceContext provides access to the projections as either a Set<String> or a MaskTree.

  Client-side, the generated RecordTemplate classes have been modified to
provide fields as a nested class accessed through the .fields() static method.
Each field can be accessed as a Path object through a fieldName() method, which
provides full static typing.  Fields are provided as methods rather than member
variables to avoid initialization cycles when a RecordTemplate contains a field of
the same type.

Deep projection support is currently *disabled* on the client side, to avoid ordering
issues with deployment.  Once all services have been deployed to production with the
new pegasus version, we will enable deep projections on the client side.

More background on projection support is available here:
https://iwww.corp.linkedin.com/wiki/cf/display/ENGS/Projections

Compatibility:
WIRE: This change is wire INCOMPATIBLE for existing users of update.  There are
no known uses of update in production.

CLIENT: This change is library INCOMPATIBLE for users of update, projection fields,
or code that relies on the types of framework ...Builder classes (a type parameter has
been removed).  Client code will need to be upgraded.

SERVER: This change is library INCOMPATIBLE for users of update.  Server code will
need to be upgraded to use PatchRequests and PatchApplier.

-----

Validation code refactoring.

1. Move validation code out of DataSchema classes, enable single pass validation of schema and calling
   validator plugins.
2. Move schema validation code into validation package.
3. Move validator plugins into validator package.
4. Provide field specific diagnostic data from schema validator.

-----

Rename cow and cow-avro module to data and data-avro module.

Refactor Cow classes and provide implementation that have the checker
functionality but without copy-on-write, known as CheckedMap and CheckedList
classes.

-----
(RB=42905)

Add support for "validate" annotation on fields.

Prefix DataElement accessor methods with "get".

-----
(RB=43002)

Add support for filtering calls to a Validator based on what has been
set as specified by the patch operations map. This functionality is
implemented by the PatchFilterValidator class.

Refactored ValidationMessage* classes into Message* classes so that
patch operations can re-use these classes for generating patch messages.

0.14.7
------

Fix a bug in D2 where the PropertyStore information was not correctly
persisted to disk, preventing the load balancer from operating
correctly if connectivity to ZooKeeper was interrupted.

0.14.6
------

(RB=41257)

1. Add support for typeref to enable aliasing primitive types.
   Typeref works for any type (not just primitive).
   There is no support yet for binding different Java classes
   to the typeref'ed types.
   If a typeref is member of union, then the accessor method
   names for accessing the member are derived from the typeref
   name.

2. Serialization protocol and format does not change. The serialized
   representation of the member key is always the actual type, i.e.
   the type reached by following chain of typerefs.

3. Rest.li @Action and @ActionParam now has optional 'typeref'
   attribute that specifies the typeref that should be emitted to
   the IDL instead of the type inferred from the Java type.
   The provided typeref must be compatible with the Java type.

   KNOWN ISSUE - Unions cannot be used as return or parameter for
   actions.

0.14.5
------

(RB=41200)

  1. Provide human readable locations when Jackson parse errors occurs.

0.14.4
------

Data Schema Resolver (RB=41014)

  1. RUM pegasus plugin will not have to unjar before passing data schema jars to
     pegasus.  See seperate review for changes to plugin.

  2. Remove location from in-memory representation of schemas. Location is only used
     for generating Java bindings and checking for freshness of generated files.
     It is not needed to in-memory representation. Storing them in in-memory bindings
     may cause file "leaks" as they refer to jar files and files.

  3. Simply by removing FIELDS_ONLY record type.

0.14.3
------

(RB=40353)

  1. Minor changes to comments in rpc-demo-client.

  2. Fix pdpr and avsc references in tools/rest-doc-generator/docgen.py

0.14.2
------

Not released.

0.14.1
------

Data Schema Generator

  1. Fixes a bug in which parse errors are not sent to output.
     There is no other functional changes.

0.14
----

Data Schema changes

  1. Add "optional" support to record schema.
     In previous version, "default" is used to provide
     default value as well as indicate that the field is
     optional in a record. In the new version, "optional"
     is orthogonal to "default". A default value can be
     specified for optional as well as mandatory fields.
     An "optional" field may or may not have a default value.

  2. Change extension of data schema files from avsc to pdsc.
     This change requires 0.12.7 version of RUM for the new
     version of PegasusGeneratorPlugin that understands the new
     file name extension. This version of plugin also expects
     data schema files to be in the pegasus directory instead
     of the avro directory. The plugin also works with older
     projects that use the previous version of Pegasus, i.e.
     uses avro directories and avsc as the file name extension.

RestLi (RB=38654)

  1.  Merge EntityResource into CollectionResource / AssociationResource,
      to simplify resource definition

  2.  RestLiRouter internal cleanup.

  3.  Remove anonymous finder functionality, to reserve "GET /collection/"
      for future use.
  4.  Remove JAX-RS / Jersey dependencies from library APIs.

  5.  Minimize JAX-RS / Jersey usage internally.

  6.  Extract Annotation classes to top-level, to assist in IDE
      auto-import.

  7.  Invert parent/child dependency in resource annotations (replace "root=false"
      with "parent=Xyz.class").

  8.  ResourceModel internal cleanup.

  9.  Support compound keys for collections.

  10. Cleanup PathKeys and CompoundKey interfaces.

  11. Remove rest-jax-rs-prototype from active repository
